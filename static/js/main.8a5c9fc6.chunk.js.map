{"version":3,"sources":["modals/backup-identity/steps/passphrase/Passphrase.css","shared/components/pdf-box/PdfBox.css","modals/backup-identity/steps/verify-mnemonic-words/VerifyMnemonicWords.css","modals/new-identity-flow/common-steps/setup-device-step/SetupDeviceStep.css","modals/new-identity-flow/import-identity-steps/manual-recovery/ImportManualRecovery.css","modals/new-identity-flow/import-identity-steps/automatic-recovery/AutomaticRecovery.css","app/sidebar/scrollbar/Scrollbar.css","app/sidebar/identity-item/IdentityItem.css","pages/identity/activity-boxes/shared/StatusIndicator.css","pages/identity/IdentityActivity.css","shared/media/backgrounds/background-pattern-1440p.png","modals/new-identity-flow/generic-step/GenericStep.css","modals/backup-identity/steps/write-words/mnemonic-box/MnemonicBox.css","modals/backup-identity/steps/feedback/Feedback.css","app/sidebar/action-item/ActionItem.css","pages/errors/404/Page404.css","modals/new-identity-flow/common-steps/feedback-step/FeedbackStep.css","app/sidebar/logo-item/LogoItem.css","modals/setup-locker/steps/set-idle-timer/SetIdleTimer.css","pages/identity/Identity.css","modals/backup-identity/steps/write-words/WriteWords.css","shared/components/bullets-indicator/BulletsIndicator.css","modals/new-identity-flow/import-identity-steps/manual-recovery/RecoveryTextArea.css","pages/home/Home.css","modals/edit-profile/EditProfile.css","pages/identity/activity-boxes/Apps.css","app/App.css","pages/authenticate/request-info-illustration/RequestInfoIllustration.css","pages/sign/app-info-illustration/AppInfoIllustration.css","pages/sign/code-block/CodeBlock.css","shared/components/lock-screen/LockScreen.css","shared/components/pdf-box/pdf-action-item/PdfActionItem.css","modals/backup-identity/steps/verify-mnemonic-words/mnemonic-grid/MnemonicGrid.css","shared/components/fade-container/FadeContainer.css","shared/components/page-layout/PageLayout.css","modals/edit-profile/profile-form/location-input/LocationInput.css","pages/identity/activity-boxes/shared/GenericList.css","shared/components/app-info/AppInfo.css","modals/edit-profile/profile-form/ProfileForm.css","pages/authenticate/Authenticate.css","pages/authenticate/identity-selector/IdentitySelector.css","shared/components/loading-screen/LoadingScreen.css","shared/components/error-screen/ErrorScreen.css","pages/identity/activity-boxes/SocialProofs.css","pages/sign/Sign.css","boot/Boot.css","modals/setup-locker/steps/set-passphrase/SetPassphrase.css","app/sidebar/Sidebar.css","pages/identity/IdentityDetails.css","app-mediator/screens/pristine/Pristine.css","modals/new-identity-flow/import-identity-steps/confirm-identity/ImportConfirmIdentity.css","pages/identity/revoked/Revoked.css","modals/backup-identity/steps/paper-key/PaperKey.css","modals/new-identity-flow/create-identity-steps/identity-info/IdentityInfo.css","app/sidebar/add-identity-item/AddIdentityItem.css","pages/identity/activity-boxes/shared/GenericItem.css","shared/components/ipfs/ipfs-context/index.js","shared/components/ipfs/ipfs-url/IpfsUrl.js","shared/components/ipfs/ipfs-avatar/IpfsAvatar.js","shared/components/ipfs/ipfs-avatar-picker/IpfsAvatarPicker.js","modals/new-identity-flow/generic-step/GenericStep.js","modals/new-identity-flow/generic-step/index.js","shared/form-validators/notEmpty.js","shared/components/button-promise-state/index.js","modals/backup-identity/steps/passphrase/Passphrase.js","shared/components/pdf-box/PdfBox.js","shared/components/pdf-box/pdf-action-item/PdfActionItem.js","modals/backup-identity/steps/paper-key/PaperKey.js","modals/backup-identity/steps/write-words/mnemonic-box/MnemonicBox.js","modals/backup-identity/steps/write-words/WriteWords.js","modals/backup-identity/steps/verify-mnemonic-words/mnemonic-grid/MnemonicGrid.js","modals/backup-identity/steps/verify-mnemonic-words/VerifyMnemonicWords.js","modals/backup-identity/steps/feedback/Feedback.js","modals/backup-identity/BackupIdentity.js","shared/components/fade-container/FadeContainer.js","shared/components/bullets-indicator/BulletsIndicator.js","modals/new-identity-flow/create-identity-steps/identity-info/identities.js","modals/new-identity-flow/create-identity-steps/identity-info/IdentityInfo.js","modals/new-identity-flow/create-identity-steps/identity-info/index.js","modals/new-identity-flow/common-steps/feedback-step/FeedbackStep.js","modals/new-identity-flow/common-steps/feedback-step/index.js","shared/data/devices/devices.js","modals/new-identity-flow/common-steps/setup-device-step/device-info.js","modals/new-identity-flow/common-steps/setup-device-step/SetupDeviceStep.js","modals/new-identity-flow/common-steps/setup-device-step/index.js","modals/new-identity-flow/create-identity-steps/identity-device/IdentityDevice.js","modals/new-identity-flow/create-identity-steps/identity-device/index.js","modals/new-identity-flow/create-identity-steps/feedback/Feedback.js","modals/new-identity-flow/create-identity-steps/feedback/index.js","modals/new-identity-flow/import-identity-steps/manual-recovery/RecoveryTextArea.js","modals/new-identity-flow/import-identity-steps/manual-recovery/ImportManualRecovery.js","modals/new-identity-flow/import-identity-steps/manual-recovery/index.js","modals/new-identity-flow/import-identity-steps/confirm-identity/ImportConfirmIdentity.js","modals/new-identity-flow/import-identity-steps/confirm-identity/index.js","modals/new-identity-flow/import-identity-steps/identity-device/IdentityDevice.js","modals/new-identity-flow/import-identity-steps/identity-device/index.js","modals/new-identity-flow/import-identity-steps/feedback/ImportFeedback.js","modals/new-identity-flow/import-identity-steps/feedback/index.js","modals/new-identity-flow/import-identity-steps/automatic-recovery/AutomaticRecovery.js","modals/new-identity-flow/import-identity-steps/automatic-recovery/index.js","modals/new-identity-flow/NewIdentityFlow.js","app/sidebar/scrollbar/Scrollbar.js","app/sidebar/add-identity-item/AddIdentityItem.js","app/sidebar/identity-item/IdentityItem.js","app/sidebar/action-item/ActionItem.js","app/sidebar/logo-item/LogoItem.js","app/sidebar/Sidebar.js","shared/components/error-screen/ErrorScreen.js","pages/errors/500/Page500.js","pages/errors/404/Page404.js","app/error-boundary/ErrorBoundary.js","shared/components/lock-screen/ActivityDetector.js","shared/components/lock-screen/LockScreen.js","app/wallet-enclave/WalletEnclave.js","modals/setup-locker/steps/set-passphrase/SetPassphrase.js","modals/setup-locker/steps/set-idle-timer/SetIdleTimer.js","modals/setup-locker/SetupLocker.js","pages/home/Home.js","shared/components/page-layout/PageLayout.js","pages/identity/revoked/Revoked.js","modals/edit-profile/profile-form/location-input/get-location.js","modals/edit-profile/profile-form/location-input/LocationInput.js","modals/edit-profile/profile-form/ProfileForm.js","modals/edit-profile/EditProfile.js","pages/identity/IdentityDetails.js","pages/identity/activity-boxes/shared/GenericItem.js","pages/identity/activity-boxes/shared/GenericList.js","pages/identity/activity-boxes/Apps.js","pages/identity/activity-boxes/shared/StatusIndicator.js","pages/identity/activity-boxes/Devices.js","pages/identity/activity-boxes/SocialProofs.js","pages/identity/IdentityActivity.js","pages/identity/Identity.js","app/App.js","shared/components/app-info/AppInfo.js","app-mediator/screens/pristine/Pristine.js","pages/authenticate/request-info-illustration/RequestInfoIllustration.js","pages/authenticate/identity-selector/IdentitySelector.js","shared/data/credential-scopes/credentialScopes.js","pages/authenticate/Authenticate.js","pages/sign/app-info-illustration/AppInfoIllustration.js","pages/sign/code-block/customTheme.js","pages/sign/code-block/CodeBlock.js","pages/sign/Sign.js","app-mediator/AppMediator.js","shared/components/loading-screen/LoadingScreen.js","boot/Boot.js","index.js"],"names":["module","exports","contentWrapper","heading","form","buttonContainer","illustration","box","top","bottom","title","desc","icon","errorMessage","buttonsWrapper","button","buttonWrapper","deviceInfoWrapper","textInput","advance","error","import","scrollbar","in","topEdgeDetector","bottomEdgeDetector","showTopEdge","showBottomEdge","identityItem","avatar","active","name","text","statusIndicator","current","approved","offline","pending","revoked","invalid","statusDot","left","right","statusText","activitiesWrapper","activity","headerWrapper","header","arrow","activityBlock","__webpack_require__","p","bottomContent","wordContainer","number","actionItem","errorPage","background","body","loadingContainer","feedbackContainer","textContainer","actionsContainer","logoItem","symbol","logotype","idlePicker","continueButton","split","wrapper","bullet","inputWrapper","animatedBorder","progressDisplay","homepage","logo","modal","modalContent","appsWrapper","noApps","globeSvg","appIcon","app","sidebar","page","container","typeOption","textButton","lockScreen","enterActive","enterDone","exit","content","unlockTitle","unlockHint","passphraseDisplay","exitActive","exitDone","passphraseInput","passphraseDot","enter","loading","cursor","blink","shake","show","modalOverlay","modalPortal","modalBodyOpen","iconContainer","mnemonicGrid","badge","visible","layoutWrapper","layout","locationFieldContainer","listWrapper","inputsContainer","leftContent","rightContent","field","nationality","location","label","genderWrapper","avatarPickerWrapper","white","invisible","infoContainer","infoDetailsContainer","infoText","list","helperTextContainer","buttonsContainer","link","singleButtonContainer","fadeContainer","dropdownContainer","trigger","chevron","up","menu","menuList","control","option","focused","loadingScreen","errorScreen","buttons","toggleDetails","tryAgain","errorSlideDown","errorBlock","message","stack","reportButton","proofLine","noProof","hasProof","separator","optional","codeBlock","boot","feedbackTooltip","suggestions","warning","submitWrapper","saveError","open","openDone","close","bg","middle","detailsWrapper","did","lowerBar","attributes","attribute","value","editButton","buttonIcon","profileSpan","appInfoContainer","identityWrapper","identityName","primaryButton","actions","boxActionsContainer","identityInfoWrapper","bulletsIndicator","addIdentityItem","addCircle","add","circle","smallItem","largeItem","iconWrapper","status","IpfsContext","createContext","IpfsProvider","Provider","Consumer","ConnectedIpfsUrl","props","ipfs","useContext","react_default","a","createElement","react_ipfs_url_es","Object","assign","defaultProps","strategy","IpfsAvatar","_ref","image","rest","_objectWithoutProperties","IpfsUrl","input","_ref2","dist","undefined","IpfsAvatarPicker","IpfsAvatarPicker_objectWithoutProperties","helmetSvg","e","then","bind","GenericStep","Component","[object Object]","super","arguments","_defineProperty","this","onNextStep","render","className","styles","svg","variant","fullWidth","onClick","handleCreateIdentity","handleImportIdentity","notEmpty","defaultOptions","thresholdMs","onSettleDelayMs","rejected","fulfilled","fulfilledWithinThreshold","statusMap","pendingWithinThreshold","ButtonPromiseState","react_promiseful_es","RESET_PROMISE_TIMEOUT","shieldSvg","Passphrase","Passphrase_defineProperty","promise","passphrase","unlock","setState","catch","err","FORM_ERROR","nextStepId","resetPromiseTimeout","setTimeout","componentWillUnmount","clearTimeout","state","react_final_form_es","onSubmit","handleSubmit","_ref3","submitError","dirtySinceLastSubmit","submitting","autoComplete","validate","_ref4","meta","feedback","getTextInputFeedback","lineStrength","type","placeholder","onSettle","handleSettle","_ref5","touched","code","PdfBox","description","children","PdfActionItem","PdfActionItem_objectWithoutProperties","iconPosition","classNames","PaperKey","PaperKey_defineProperty","alert","manual","manualStepId","nextStepsId","pdf_box_PdfBox","pdf_action_item_PdfActionItem","handleDownloadClick","handlePrintClick","handleSaveKeyManually","disabled","MnemonicBox","MnemonicBox_defineProperty","copied","memoizeOne","mnemonic","join","map","word","index","wordNumber","slice","key","renderWords","react_copy_to_clipboard_lib","stringifyMnemonic","onCopy","handleOnCopy","WriteWords","write_words_mnemonic_box_MnemonicBox","handleNextStep","MnemonicGrid","onToggle","renderMnemonicGrid","selectedIndexes","selected","includes","handleBadgeClick","NUMBER_OF_WORDS","VerifyMnemonicWords","constructor","VerifyMnemonicWords_defineProperty","remove_default","element","length","push","prevStepId","setComplete","wordsAreCorrect","shuffledMnemonic","shuffle_default","randomWordsIndex","generateRandomIndexes","verify_mnemonic_words_mnemonic_grid_MnemonicGrid","handleToggleSelect","handlePrevStep","wordsNumber","indexesArray","randomNumber","random_default","firstWordIndex","secondWordIndex","firstWord","secondWord","selectedWords","Feedback","isBackedup","onRequestClose","profileDetails","feedbackText","getFirstName","ipfs_avatar_IpfsAvatar","initialState","currentStepId","connectIdmWallet","idmWallet","getSetComplete","id","identities","get","backup","locker","getLock","profile","getDetails","backupData","getData","BackupIdentity_defineProperty","data","getMnemonicArray","onExited","step","handleExited","steps_feedback_Feedback","react","steps_passphrase_Passphrase","steps_paper_key_PaperKey","automatic","steps_write_words_WriteWords","steps_verify_mnemonic_words_VerifyMnemonicWords","FadeContainer","FadeContainer_defineProperty","createRef","isFirstRender","activeIndex","requestNextActiveIndex","event","isAnimatingIn","target","contentRef","isVisible","ref","onTransitionEnd","handleTransitionEnd","BulletsIndicator","bulletCallbacks","callback","bulletClasses","identity_info_identities","avatarLabel","inputLabel","inputPlaceholder","FORM_INITIAL_VALUES","IdentityInfo","IdentityInfo_defineProperty","activeSubStepIndex","identityImage","getIdentityInfo","handleBulletClick","goToIdentityName","imageFile","modified","values","selectedIdentityInfo","formData","finalData","IdentityInfo_objectSpread","handleGoToIdentityType","handleGoToIdentityName","initialValues","handleOnSubmit","onChange","handleFormChange","components_fade_container_FadeContainer","selectedId","typeGroup","onSelect","renderIdentities","handleAvatarInputChange","bullets_indicator_BulletsIndicator","identity","filter","bulletIndex","FeedbackStep","messages","stepData","success","successActions","errorActions","loadingText","devices_devices","deviceInfo","getDeviceInfo","async","isMobile","isMobileOnly","nameSufix","mobileVendor","navigator","getBattery","battery","charging","chargingTime","getDeviceType","SUBSTEP_TRANSITION_DELAY","DEVICE_INFO_FALLBACK","SetupDeviceStep","SetupDeviceStep_defineProperty","selectedOption","substepTransitionTimeout","getDefaultDeviceName","identityFirstName","selectedDeviceInfo","getSelectedDeviceInfo","setTextInputValue","detectedDeviceInfo","formInitialValues","componentDidUpdate","prevProps","sufix","formRef","getFieldState","buttonText","renderTypeGroupField","handleTypeOptionClick","renderDevices","devices","device","handleOnChange","handleSelectIndentityDevice","startCase_default","deviceName","change","IdentityDevice","setup_device_step","feedback_step","RECOVERY_WORD_NUMBER","RecoveryTextArea","RecoveryTextArea_defineProperty","recovery","_","wordCount","calculateWordCount","validationResult","selectionStart","isSeparatorKey","canAddSpace","preventDefault","setRangeText","selectionEnd","fireInputEvent","pastedData","clipboardData","window","clipboarddata","simulatePasteResult","toLowerCase","replace","trim","inputWrapperClassName","validateInput","restInput","RecoveryTextArea_objectWithoutProperties","fillPercentage","react_textarea_autosize_esm_browser","onInput","onPaste","handleInputPaste","onKeyDown","handleInputKeyDown","style","width","evt","CustomEvent","bubbles","dispatchEvent","splitRecoveryIntoArray","elem","STEP_ANIMATION_DURATION","ImportManualRecovery","ImportManualRecovery_defineProperty","acceptedMnemonic","peekIdentity","rollbackAnimationTimeout","import_identity_steps_manual_recovery_RecoveryTextArea","getErrorMessage","errorCode","ImportConfirmIdentity","ImportConfirmIdentity_defineProperty","previousStepId","identityData","handleSecondaryStep","ImportFeedback","AutomaticRecovery","AutomaticRecovery_defineProperty","secondaryStepId","handleFileSelection","currentFlow","WrappedNewIdentityFlow","withModalGlobal","withRouter","NewIdentityFlow_defineProperty","createIdentity","importIdentity","flow","createIdentityFirstStepId","currentStepData","prevState","NewIdentityFlow_objectSpread","createFlowPromise","goToBackupFlow","globalModal","openModal","backup_identity_BackupIdentity","createdIdentityId","importedIdentityId","history","generic_step","handleChooseFlow","renderFlowSteps","renderCreateSteps","renderImportSteps","identity_info","identity_device","handleNewIdentitySettle","create_identity_steps_feedback","renderCreateFeedbackSuccessActions","renderCreateFeedbackErrorActions","automatic_recovery","manual_recovery","confirm_identity","import_identity_steps_identity_device","import_identity_steps_feedback","renderImportFeedbackSuccessActions","renderImportFeedbackErrorActions","handleGoToBackupFlow","handleRetryCreateClick","handleRetryImport","identityInfo","@context","@type","readAsArrayBuffer","getId","params","create","peek","Sidebar","Scrollbar_defineProperty","topEdgeVisible","bottomEdgeVisible","inView","in_","finalClassName","simplebar_react_esm","react_intersection_observer_esm","as","handleTopEdgeChange","handleBottomEdgeChange","AddIdentityItem","staggerDelay","AddIdentityItem_objectWithoutProperties","transitionDelay","IdentityItem","details","IdentityItem_objectWithoutProperties","react_router_dom","to","activeClassName","ActionItem","Icon","ActionItem_objectWithoutProperties","LogoItem","LogoItem_objectWithoutProperties","OPEN_DELAY_DURATION","OPEN_TRANSITION_DURATION","OPEN_TRANSITION_CLASSNAMES","STAGGER_FIXED_TRANSITION_DELAY","STAGGER_TRANSITION_DELAY","PureComponent","Sidebar_defineProperty","findDOMNode","addIdentityModalRef","enterTimeout","identitiesCount","CSSTransition","timeout","onMouseOver","handleMouseOver","onMouseLeave","handleMouseLeave","logo_item_LogoItem","handleLogoItemClick","scrollbar_Scrollbar","new_identity_flow_NewIdentityFlow","handleModalTriggerChange","add_identity_item_AddIdentityItem","identity_item_IdentityItem","handleIdentityItemClick","action_item_ActionItem","BellIcon","handleNotificationsItemClick","SettingsIcon","handleSettingsItemClick","fadingLogoSvg","ErrorScreen","ErrorScreen_defineProperty","showingDetails","onRetry","handleToggleDetailsClick","slidedown_default","closed","getNormalizedStack","handleReportClick","line","Page500","components_error_screen_ErrorScreen","onHomepageClick","useCallback","pathname","reload","componentDidCatch","_404_Page404","_500_Page500","handleRetry","EVENT_LISTENERS_OPTIONS","capture","passive","ActivityDetector","onDetect","useMemo","throttle_default","useEffect","document","addEventListener","removeEventListener","propTypes","PropTypes","func","isRequired","MINIMUM_UNLOCK_ANIMATION_DURATION","lockScreenTimeout","appear","lockScreenTransitionClassNames","appearActive","appearDone","passphraseDotsClassNames","unlockAnimationOptions","animationData","unlockAnimationData","loop","autoplay","scrollbarCompensate","LockScreen","LockScreen_defineProperty","startLogoAnimation","passphraseInputRef","clearInterval","focusInterval","focusTimeout","focus","setInterval","getPromiseState","substring","metaKey","ctrlKey","submit","locked","restartIdleTimer","lock_screen_ActivityDetector","lib_default","isOpen","closeTimeoutMS","onAfterClose","handleModalClose","overlayClassName","portalClassName","bodyOpenClassName","handleMouseClick","lottie_react_web_dist_default","options","isStopped","handlePromiseSettle","storePassphraseInputRef","handleInputChange","onBlur","handleInputBlur","renderPasswordDots","passphraseLength","animationDelay","TransitionGroup","component","Array","fill","val","i","Promise","all","pDelay","WalletEnclave","WalletEnclave_defineProperty","alreadyLoaded","load","components_lock_screen_LockScreen","renderError","isLoaded","idleTimer","restart","isLocked","createValidatePassphrase","validatePassphrase","debouncedValidatePassphrase","pDebounce","validatedOnceNonEmpty","validatePassphraseConfirmation","passphraseConfirmation","allValues","getPassphraseFeedback","score","strength","Math","ceil","tooltip","suggestion","SetPassphrase","SetPassphrase_defineProperty","memoize","enablePassphrase","showFeedback","helperText","lineType","autoFocus","Number","SetIdleTimer","SetIdleTimer_defineProperty","timeoutValue","buttonRef","click","currentPromise","setMaxTime","componentDidMount","querySelector","onKeyUp","handleIdlePickerKeyUp","defaultValue","handlePickerChange","handleContinue","enable","SetupLocker_defineProperty","stepId","onComplete","onCompleteTimeout","_this$props","SetupLocker_objectWithoutProperties","showClose","steps_set_passphrase_SetPassphrase","handleProceedFromPassphrase","steps_set_idle_timer_SetIdleTimer","handleProceedIdleTimer","Home","PageLayout","ownProps","deleteIdentity","remove","Revoked_defineProperty","redirectToHomepage","react_router","delete","handleDelete","getLocation","geocoder","pTimeout","t","default","provider","format","zoom","addressdetails","accept-language","position","resolve","reject","geolocation","getCurrentPosition","latitude","longitude","coords","pify","reverse","call","lat","lon","raw","address","FEEDBACK","LocationInput","LocationInput_defineProperty","isGeolocationAvailable","locationPromise","console","warn","county","country","onLocationInferred","LocationInput_objectWithoutProperties","handleLocationClick","handlePromiseLocationSettle","getTextInputProps","LocationInput_objectSpread","PLACEHOLDER","ProfileForm","ProfileForm_defineProperty","updateIdentity","omit_default","dirty","nationalities","_ref6","_ref7","ipfs_avatar_picker_IpfsAvatarPicker","labelAlignment","_ref8","profile_form_location_input_LocationInput","_ref9","saveProfile","properties","ProfileForm_objectSpread","gender","getSetProperties","setProperties","save","contentClassName","edit_profile_profile_form_ProfileForm","IdentityAttribute","toUpperCase","WrappedIdentityDetails","IdentityDetails_defineProperty","isBackupComplete","mainActionId","defaultActions","actionId","edit_profile_EditProfile","dateOfBirth","getActions","onActionClick","handleActionClick","getDid","isComplete","GenericItem","onRemove","React","cloneElement","GenericList","Children","count","item","WrappedAppsBox","Apps_defineProperty","iconUrl","alt","src","shared_GenericItem","handleAppRequestRemove","removeRequestId","cancelText","confirmText","onConfirm","handleAppRequestRemoveConfirm","onCancel","handleAppRequestRemoveCancel","revokeApp","closeModal","apps","shared_GenericList","renderApp","renderDescriptionPanel","getApps","revoke","StatusIndicator","dotSide","partialClassName","DeviceItem","Devices_objectWithoutProperties","deviceIcon","deviceDataFromId","deviceStatus","keyMaterial","privateKeyPem","class","revokedAt","statusFromDeviceStatus","shared_StatusIndicator","SocialProofItem","network","account","socialIcon","inferSocialIcon","username","textFromAccountStatus","handleButtonClick","SocialProofsBox","proofs","listItems","SocialProofs_SocialProofItem","facebook","twitter","linkedin","github","ActivityBox","IdentityActivity","IdentityActivity_defineProperty","IdentityActivity_ActivityBox","handleMyDevices","Devices","handleMySocialProofs","activity_boxes_SocialProofs","handleMyApps","activity_boxes_Apps","isRevoked","match","identity_revoked_Revoked","page_layout_PageLayout","pages_identity_IdentityDetails","pages_identity_IdentityActivity","WrappedApp","App_defineProperty","setupLockerOpen","pristine","queryString","parse","search","action","Transition","mountOnEnter","unmountOnExit","setup_locker_SetupLocker","handleSetupLockerComplete","wallet_enclave_WalletEnclave","app_sidebar_Sidebar","error_boundary_ErrorBoundary","path","exact","Identity","Page404","isPristine","renderIcon","getInitials","AppInfo","selectable","Pristine","backgroundImage","backgroundPatternUrl","app_info_AppInfo","rel","RequestInfoIllustration","DEFAULT_SELECTED_INDEX","IdentitySelector","IdentitySelector_defineProperty","menuIsOpen","findIdentity","selectedValue","chevronClasses","animateOnEnter","isFocused","optionClassNames","handleCreateIdentityClick","find","defaultOption","createIdentityOption","renderCreateIdentityOption","renderOption","initialIdentityId","unshift","createOptions","createOptionsArray","findIdentityObject","arrowPlacement","menuClassName","handleChange","controlClassName","menuListClassName","renderTrigger","renderCustomTrigger","credentialScopes","personalDetails","UserIcon","socialProofs","CheckIcon","MOCKED_CREDENTIAL_SCOPES","INITIAL_VALUE_INDEX","Authenticate","Authenticate_defineProperty","activeFeedbackStepId","onDeny","selectedIdentityId","onAccept","handleAllowAuthentication","noIdentities","Fragment","authenticate_identity_selector_IdentitySelector","handleIdentityChange","request_info_illustration_RequestInfoIllustration","renderNoIdentitiesHelperText","renderInfoDetailsContainer","renderCreateIdentityButton","renderAuthenticationButtons","credentialScope","handleEditClick","handleDenyAuthentication","AppInfoIllustration","customTomorrow","customTheme_objectSpread","tomorrow","pre[class*=\"language-\"]","margin","height","CodeBlock","language","handlePreviewClick","prism","customTheme","stringifyData","ArrayBuffer","isView","JSON","stringify","Sign","Sign_defineProperty","app_info_illustration_AppInfoIllustration","sign_code_block_CodeBlock","handleAccept","_this","AppMediator_defineProperty","unlockFn","prompt","response","pDefer","ok","identityId","mediatorSide","setPrompts","promptUnlock","authenticate","promptAuthenticate","sign","promptSign","pristine_Pristine","promptUnlockFn","pages_authenticate_Authenticate","handlePromptAccept","handlePromptDeny","pages_sign_Sign","animationOptions","LoadingScreen","CSS_TRANSITION_PROPS","Boot","Boot_defineProperty","renderLoading","renderSuccess","loading_screen_LoadingScreen","Router","HashRouter","rootEl","getElementById","ReactModal","setAppElement","hasParent","src_boot_Boot","createMediatorSide","app_mediator_AppMediator","createIdmWallet","createWalletSide","__IDM_WALLET__","es","src_app_App"],"mappings":"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","file":"static/js/main.8a5c9fc6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"Passphrase_contentWrapper__3t6hL\",\"heading\":\"Passphrase_heading__1X3Q7\",\"form\":\"Passphrase_form__2X9ky\",\"buttonContainer\":\"Passphrase_buttonContainer__2_blb\",\"illustration\":\"Passphrase_illustration__1wwQA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"PdfBox_box__3egXF\",\"top\":\"PdfBox_top__1Sk0Z\",\"bottom\":\"PdfBox_bottom__1qi0e\",\"title\":\"PdfBox_title__3eVp1\",\"desc\":\"PdfBox_desc__JDNki\",\"icon\":\"PdfBox_icon__3k8mE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"VerifyMnemonicWords_contentWrapper__2u2Nh\",\"heading\":\"VerifyMnemonicWords_heading__3tSJ0\",\"errorMessage\":\"VerifyMnemonicWords_errorMessage__sN9j-\",\"buttonsWrapper\":\"VerifyMnemonicWords_buttonsWrapper__14-wU\",\"button\":\"VerifyMnemonicWords_button__3k--H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"SetupDeviceStep_contentWrapper__23oet\",\"heading\":\"SetupDeviceStep_heading__23cyA\",\"buttonWrapper\":\"SetupDeviceStep_buttonWrapper__3T-mh\",\"deviceInfoWrapper\":\"SetupDeviceStep_deviceInfoWrapper__3mH7t\",\"textInput\":\"SetupDeviceStep_textInput__1D_BY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"ImportManualRecovery_contentWrapper__33c_e\",\"heading\":\"ImportManualRecovery_heading__1BgFg\",\"form\":\"ImportManualRecovery_form__2I19l\",\"advance\":\"ImportManualRecovery_advance__198ss\",\"error\":\"ImportManualRecovery_error__2Kumz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"AutomaticRecovery_contentWrapper__3kW0J\",\"heading\":\"AutomaticRecovery_heading__1V1FY\",\"import\":\"AutomaticRecovery_import__2VUbp\",\"icon\":\"AutomaticRecovery_icon__3esip\",\"advance\":\"AutomaticRecovery_advance__1OGnN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__YNmoU\",\"in\":\"Scrollbar_in__1Uwqw\",\"topEdgeDetector\":\"Scrollbar_topEdgeDetector__31ttL\",\"bottomEdgeDetector\":\"Scrollbar_bottomEdgeDetector__2jhr5\",\"showTopEdge\":\"Scrollbar_showTopEdge__34t41\",\"showBottomEdge\":\"Scrollbar_showBottomEdge__19C0n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"identityItem\":\"IdentityItem_identityItem__2K9lc\",\"avatar\":\"IdentityItem_avatar__16tSz\",\"active\":\"IdentityItem_active__163jJ\",\"name\":\"IdentityItem_name__80RzR\",\"text\":\"IdentityItem_text__1HnPq\",\"in\":\"IdentityItem_in__1iZMH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusIndicator\":\"StatusIndicator_statusIndicator__1pKa5\",\"current\":\"StatusIndicator_current__3rHRz\",\"approved\":\"StatusIndicator_approved__1d6un\",\"offline\":\"StatusIndicator_offline__2hnKJ\",\"pending\":\"StatusIndicator_pending__1wLya\",\"revoked\":\"StatusIndicator_revoked__3olEs\",\"invalid\":\"StatusIndicator_invalid__35fmQ\",\"statusDot\":\"StatusIndicator_statusDot__o1oUt\",\"left\":\"StatusIndicator_left__1-dZw\",\"right\":\"StatusIndicator_right__2zDiV\",\"statusText\":\"StatusIndicator_statusText__GtJww\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activitiesWrapper\":\"IdentityActivity_activitiesWrapper__3POdJ\",\"activity\":\"IdentityActivity_activity__2hGVE\",\"headerWrapper\":\"IdentityActivity_headerWrapper__Q9F7F\",\"header\":\"IdentityActivity_header__3UfZs\",\"arrow\":\"IdentityActivity_arrow__1cKRZ\",\"activityBlock\":\"IdentityActivity_activityBlock__4k_oP\"};","module.exports = __webpack_public_path__ + \"static/media/background-pattern-1440p.0eeff5c6.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"GenericStep_contentWrapper__3WM3Y\",\"heading\":\"GenericStep_heading__1dV1n\",\"bottomContent\":\"GenericStep_bottomContent__2V95c\",\"illustration\":\"GenericStep_illustration__rGGMb\",\"buttonsWrapper\":\"GenericStep_buttonsWrapper__1hIqF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"MnemonicBox_box__hJmah\",\"top\":\"MnemonicBox_top__2l233\",\"bottom\":\"MnemonicBox_bottom__1qszq\",\"wordContainer\":\"MnemonicBox_wordContainer__21ixy\",\"number\":\"MnemonicBox_number__wpU9m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"Feedback_contentWrapper__WEItX\",\"heading\":\"Feedback_heading__2TzWh\",\"buttonsWrapper\":\"Feedback_buttonsWrapper__1Drho\",\"button\":\"Feedback_button__2RVWI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionItem\":\"ActionItem_actionItem__TOU0B\",\"icon\":\"ActionItem_icon__21ZY6\",\"name\":\"ActionItem_name__cyC-p\",\"text\":\"ActionItem_text__3tYUA\",\"in\":\"ActionItem_in__2RPDh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorPage\":\"Page404_errorPage__3Bxc4\",\"background\":\"Page404_background__3nIOh\",\"illustration\":\"Page404_illustration__LnOYj\",\"title\":\"Page404_title__sEoLa\",\"body\":\"Page404_body__1gabA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingContainer\":\"FeedbackStep_loadingContainer__1UE4D\",\"feedbackContainer\":\"FeedbackStep_feedbackContainer__J3GOS\",\"textContainer\":\"FeedbackStep_textContainer__2e6K6\",\"actionsContainer\":\"FeedbackStep_actionsContainer__1Qc1-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoItem\":\"LogoItem_logoItem__1p9wF\",\"symbol\":\"LogoItem_symbol__3wpe-\",\"logotype\":\"LogoItem_logotype__1PQJZ\",\"in\":\"LogoItem_in__2Bdg9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"SetIdleTimer_contentWrapper__xFW5q\",\"title\":\"SetIdleTimer_title__3vacg\",\"idlePicker\":\"SetIdleTimer_idlePicker__16Iy8\",\"continueButton\":\"SetIdleTimer_continueButton__balNa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"split\":\"Identity_split__26zzo\",\"background\":\"Identity_background__3J3pZ\",\"top\":\"Identity_top__2IFMY\",\"bottom\":\"Identity_bottom__Zcebz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"WriteWords_contentWrapper__3HxxT\",\"heading\":\"WriteWords_heading__3o79x\",\"buttonsWrapper\":\"WriteWords_buttonsWrapper__3TeYA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"BulletsIndicator_wrapper__24yNH\",\"bullet\":\"BulletsIndicator_bullet__22bHK\",\"active\":\"BulletsIndicator_active__XqVgW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"RecoveryTextArea_inputWrapper__1GYJo\",\"animatedBorder\":\"RecoveryTextArea_animatedBorder__3Hrw7\",\"progressDisplay\":\"RecoveryTextArea_progressDisplay__2B0nu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homepage\":\"Home_homepage__3WLKl\",\"background\":\"Home_background__f6gnL\",\"logo\":\"Home_logo__2cQ2V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"EditProfile_modal__1MiBS\",\"modalContent\":\"EditProfile_modalContent__yD8FW\",\"heading\":\"EditProfile_heading__3LBeo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appsWrapper\":\"Apps_appsWrapper__20S40\",\"noApps\":\"Apps_noApps__2tMtO\",\"globeSvg\":\"Apps_globeSvg__1ZTLA\",\"appIcon\":\"Apps_appIcon__J5QB6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2nyJe\",\"sidebar\":\"App_sidebar__5AEg-\",\"page\":\"App_page__3t826\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RequestInfoIllustration_container__26QL5\",\"typeOption\":\"RequestInfoIllustration_typeOption__2TfVs\",\"icon\":\"RequestInfoIllustration_icon__1k-m6\",\"arrow\":\"RequestInfoIllustration_arrow__Lp6LY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AppInfoIllustration_container__3ZY8d\",\"typeOption\":\"AppInfoIllustration_typeOption__2e-Fy\",\"icon\":\"AppInfoIllustration_icon__3-ovZ\",\"arrow\":\"AppInfoIllustration_arrow__3kc_-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CodeBlock_container__24VoP\",\"textButton\":\"CodeBlock_textButton__Sv0bL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lockScreen\":\"LockScreen_lockScreen__1J3nu\",\"enterActive\":\"LockScreen_enterActive__1fBOp\",\"enterDone\":\"LockScreen_enterDone__x4e2n\",\"exit\":\"LockScreen_exit__2-_ox\",\"background\":\"LockScreen_background__3liV2\",\"content\":\"LockScreen_content__302dP\",\"unlockTitle\":\"LockScreen_unlockTitle__2BLho\",\"unlockHint\":\"LockScreen_unlockHint__3S-Nv\",\"passphraseDisplay\":\"LockScreen_passphraseDisplay__2B9rt\",\"exitActive\":\"LockScreen_exitActive__3RVcl\",\"exitDone\":\"LockScreen_exitDone__3gdWL\",\"logo\":\"LockScreen_logo__351ZM\",\"passphraseInput\":\"LockScreen_passphraseInput__32OzY\",\"passphraseDot\":\"LockScreen_passphraseDot__dzfTE\",\"enter\":\"LockScreen_enter__2pXOK\",\"loading\":\"LockScreen_loading__2ImDv\",\"cursor\":\"LockScreen_cursor__Iiwb1\",\"blink\":\"LockScreen_blink__scJt7\",\"error\":\"LockScreen_error__1DSwD\",\"shake\":\"LockScreen_shake__2jAUj\",\"errorMessage\":\"LockScreen_errorMessage__4mrFo\",\"show\":\"LockScreen_show__29ms9\",\"modalOverlay\":\"LockScreen_modalOverlay__3pTGO\",\"modal\":\"LockScreen_modal__36H9V\",\"modalPortal\":\"LockScreen_modalPortal__1_X4U\",\"modalBodyOpen\":\"LockScreen_modalBodyOpen__qghP4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textButton\":\"PdfActionItem_textButton__15FW0\",\"iconContainer\":\"PdfActionItem_iconContainer__1q92_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mnemonicGrid\":\"MnemonicGrid_mnemonicGrid__20Ujk\",\"badge\":\"MnemonicGrid_badge__1828T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"FadeContainer_content__1SmnZ\",\"visible\":\"FadeContainer_visible__2tJjY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layoutWrapper\":\"PageLayout_layoutWrapper__1yatn\",\"layout\":\"PageLayout_layout__17OoP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"locationFieldContainer\":\"LocationInput_locationFieldContainer__e8uIu\",\"icon\":\"LocationInput_icon__1kXFu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listWrapper\":\"GenericList_listWrapper___1A1J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"typeOption\":\"AppInfo_typeOption__1fo4S\",\"icon\":\"AppInfo_icon__3BoQP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__30Mxp\",\"inputsContainer\":\"ProfileForm_inputsContainer__1XlUK\",\"leftContent\":\"ProfileForm_leftContent__3fy4n\",\"rightContent\":\"ProfileForm_rightContent__2-6On\",\"field\":\"ProfileForm_field__cp2qf\",\"name\":\"ProfileForm_name__3a5VM\",\"nationality\":\"ProfileForm_nationality__3q2en\",\"location\":\"ProfileForm_location__2qLwK\",\"label\":\"ProfileForm_label__s9unF\",\"genderWrapper\":\"ProfileForm_genderWrapper__11vXH\",\"avatarPickerWrapper\":\"ProfileForm_avatarPickerWrapper__1j_RP\",\"buttonContainer\":\"ProfileForm_buttonContainer__1du5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Authenticate_container__2otp4\",\"white\":\"Authenticate_white__14bmd\",\"background\":\"Authenticate_background__RRXzi\",\"invisible\":\"Authenticate_invisible__kFKyj\",\"infoContainer\":\"Authenticate_infoContainer__2yzKX\",\"header\":\"Authenticate_header__pHET2\",\"logo\":\"Authenticate_logo__h0mps\",\"illustration\":\"Authenticate_illustration__2djth\",\"title\":\"Authenticate_title__1eyQa\",\"infoDetailsContainer\":\"Authenticate_infoDetailsContainer__2wYN_\",\"infoText\":\"Authenticate_infoText__26r_6\",\"list\":\"Authenticate_list__2b-n6\",\"textButton\":\"Authenticate_textButton__3RBOo\",\"helperTextContainer\":\"Authenticate_helperTextContainer__2J2Gv\",\"buttonsContainer\":\"Authenticate_buttonsContainer__1eMDa\",\"link\":\"Authenticate_link__EOTIh\",\"singleButtonContainer\":\"Authenticate_singleButtonContainer__RoGry\",\"fadeContainer\":\"Authenticate_fadeContainer__2MDa0\",\"feedbackContainer\":\"Authenticate_feedbackContainer__aHpUm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdownContainer\":\"IdentitySelector_dropdownContainer__3pIDF\",\"trigger\":\"IdentitySelector_trigger__2TNRE\",\"chevron\":\"IdentitySelector_chevron__3T8sk\",\"up\":\"IdentitySelector_up__3brPT\",\"avatar\":\"IdentitySelector_avatar__3oMAJ\",\"menu\":\"IdentitySelector_menu__3IKtc\",\"menuList\":\"IdentitySelector_menuList__c3s_v\",\"control\":\"IdentitySelector_control__1vbRA\",\"link\":\"IdentitySelector_link__1J-KM\",\"option\":\"IdentitySelector_option__1b8tP\",\"focused\":\"IdentitySelector_focused__1bm4S\",\"typeOption\":\"IdentitySelector_typeOption__3TJeY\",\"name\":\"IdentitySelector_name__iXtH3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingScreen\":\"LoadingScreen_loadingScreen__C43S8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorScreen\":\"ErrorScreen_errorScreen__2CqRE\",\"wrapper\":\"ErrorScreen_wrapper__2pWB9\",\"illustration\":\"ErrorScreen_illustration__LpyBd\",\"body\":\"ErrorScreen_body__271Vz\",\"buttons\":\"ErrorScreen_buttons__23NXf\",\"toggleDetails\":\"ErrorScreen_toggleDetails__rKQva\",\"tryAgain\":\"ErrorScreen_tryAgain__HK5-b\",\"errorSlideDown\":\"ErrorScreen_errorSlideDown__1zMqK\",\"errorBlock\":\"ErrorScreen_errorBlock__3_Dkm\",\"message\":\"ErrorScreen_message__Zt2oC\",\"stack\":\"ErrorScreen_stack__37tC0\",\"reportButton\":\"ErrorScreen_reportButton__2eSdV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"proofLine\":\"SocialProofs_proofLine__1h7sp\",\"noProof\":\"SocialProofs_noProof__2BzQD\",\"icon\":\"SocialProofs_icon__1vSE9\",\"text\":\"SocialProofs_text__2UIl-\",\"hasProof\":\"SocialProofs_hasProof__3Grlz\",\"left\":\"SocialProofs_left__AQN-K\",\"separator\":\"SocialProofs_separator__2de9A\",\"optional\":\"SocialProofs_optional__1re6g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Sign_container__lUqqX\",\"background\":\"Sign_background__43mur\",\"infoContainer\":\"Sign_infoContainer__2GU8M\",\"header\":\"Sign_header__gqF5c\",\"logo\":\"Sign_logo__2YZcL\",\"illustration\":\"Sign_illustration__1nR4m\",\"title\":\"Sign_title__1FK-6\",\"codeBlock\":\"Sign_codeBlock__ABCK8\",\"buttonsContainer\":\"Sign_buttonsContainer__1nSoo\",\"fadeContainer\":\"Sign_fadeContainer__2PUfR\",\"feedbackContainer\":\"Sign_feedbackContainer__3DG1X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boot\":\"Boot_boot__1Ml9P\",\"enter\":\"Boot_enter__2WSoG\",\"enterActive\":\"Boot_enterActive__1ksby\",\"enterDone\":\"Boot_enterDone__2B0w0\",\"exit\":\"Boot_exit__28Unv\",\"exitActive\":\"Boot_exitActive__3BrM-\",\"exitDone\":\"Boot_exitDone__2jsXB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"SetPassphrase_contentWrapper__j3hmn\",\"title\":\"SetPassphrase_title__Sf_jG\",\"passphraseInput\":\"SetPassphrase_passphraseInput__o7jSf\",\"feedbackTooltip\":\"SetPassphrase_feedbackTooltip__XnORW\",\"suggestions\":\"SetPassphrase_suggestions__3JaaS\",\"warning\":\"SetPassphrase_warning__2LMwd\",\"submitWrapper\":\"SetPassphrase_submitWrapper__1-c17\",\"continueButton\":\"SetPassphrase_continueButton__2mGfH\",\"saveError\":\"SetPassphrase_saveError__1S6e0\",\"show\":\"SetPassphrase_show__1bDmX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2YK9f\",\"open\":\"Sidebar_open__1ucmX\",\"openDone\":\"Sidebar_openDone__ycgI_\",\"close\":\"Sidebar_close__2ON2u\",\"bg\":\"Sidebar_bg__3JQVn\",\"wrapper\":\"Sidebar_wrapper__1VDED\",\"top\":\"Sidebar_top__3H2T2\",\"symbol\":\"Sidebar_symbol__1Jjm_\",\"logotype\":\"Sidebar_logotype__1ctm4\",\"middle\":\"Sidebar_middle__1s3nL\",\"bottom\":\"Sidebar_bottom__3Nd9y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsWrapper\":\"IdentityDetails_detailsWrapper__5hz-Y\",\"avatar\":\"IdentityDetails_avatar__36yO0\",\"name\":\"IdentityDetails_name__SnlG8\",\"did\":\"IdentityDetails_did__1knKd\",\"lowerBar\":\"IdentityDetails_lowerBar__3UwV0\",\"attributes\":\"IdentityDetails_attributes__Ai-KA\",\"attribute\":\"IdentityDetails_attribute__2ziCt\",\"title\":\"IdentityDetails_title__3Ld6G\",\"value\":\"IdentityDetails_value__f5xdR\",\"editButton\":\"IdentityDetails_editButton__3Fx2i\",\"buttonIcon\":\"IdentityDetails_buttonIcon__7TGbD\",\"profileSpan\":\"IdentityDetails_profileSpan__1_8YC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Pristine_container__18Bex\",\"background\":\"Pristine_background__1UeFz\",\"infoContainer\":\"Pristine_infoContainer__20umQ\",\"header\":\"Pristine_header__1TSFA\",\"logo\":\"Pristine_logo__1yYSC\",\"appInfoContainer\":\"Pristine_appInfoContainer__2Ol3I\",\"title\":\"Pristine_title__2mNNS\",\"text\":\"Pristine_text__1fAMR\",\"buttonContainer\":\"Pristine_buttonContainer__3GjWl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"ImportConfirmIdentity_contentWrapper__3SbuQ\",\"heading\":\"ImportConfirmIdentity_heading__6BxX4\",\"identityWrapper\":\"ImportConfirmIdentity_identityWrapper__jZXlw\",\"identityName\":\"ImportConfirmIdentity_identityName__3Q0Qs\",\"title\":\"ImportConfirmIdentity_title__13iue\",\"text\":\"ImportConfirmIdentity_text__1wWMJ\",\"advance\":\"ImportConfirmIdentity_advance__1NIR5\",\"primaryButton\":\"ImportConfirmIdentity_primaryButton__3M2Mz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorPage\":\"Revoked_errorPage__UKEeg\",\"background\":\"Revoked_background__3IT0_\",\"avatar\":\"Revoked_avatar__2g6J9\",\"title\":\"Revoked_title__4ZDbe\",\"body\":\"Revoked_body__1gZAp\",\"actions\":\"Revoked_actions__3VZcJ\",\"import\":\"Revoked_import__1Ks5h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"PaperKey_contentWrapper__1hjLD\",\"heading\":\"PaperKey_heading__jMcDH\",\"boxActionsContainer\":\"PaperKey_boxActionsContainer__1Kei5\",\"icon\":\"PaperKey_icon__1aGb5\",\"buttonsWrapper\":\"PaperKey_buttonsWrapper__2q52R\",\"container\":\"PaperKey_container__1rp4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"IdentityInfo_contentWrapper__BrNi0\",\"heading\":\"IdentityInfo_heading__28Ipt\",\"buttonWrapper\":\"IdentityInfo_buttonWrapper__2UQmp\",\"identityInfoWrapper\":\"IdentityInfo_identityInfoWrapper__3Ua3L\",\"textInput\":\"IdentityInfo_textInput__1K44t\",\"bulletsIndicator\":\"IdentityInfo_bulletsIndicator__1fsjX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addIdentityItem\":\"AddIdentityItem_addIdentityItem__nDRsa\",\"addCircle\":\"AddIdentityItem_addCircle__1Q76x\",\"add\":\"AddIdentityItem_add__2u957\",\"circle\":\"AddIdentityItem_circle__1srJB\",\"name\":\"AddIdentityItem_name___RtfY\",\"text\":\"AddIdentityItem_text__1FDoo\",\"in\":\"AddIdentityItem_in__3AyYi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"smallItem\":\"GenericItem_smallItem__13Jir\",\"left\":\"GenericItem_left__xgpn-\",\"icon\":\"GenericItem_icon__2KBny\",\"name\":\"GenericItem_name__3gq32\",\"right\":\"GenericItem_right__2LwxB\",\"statusText\":\"GenericItem_statusText__1JX0U\",\"statusIndicator\":\"GenericItem_statusIndicator__5hPS3\",\"largeItem\":\"GenericItem_largeItem__16xkz\",\"iconWrapper\":\"GenericItem_iconWrapper__1pr09\",\"status\":\"GenericItem_status__3NiU5\",\"optional\":\"GenericItem_optional__2xjR4\"};","import { createContext } from 'react';\n\nconst IpfsContext = createContext();\n\nexport const IpfsProvider = IpfsContext.Provider;\nexport const IpfsConsumer = IpfsContext.Consumer;\n\nexport default IpfsContext;\n","import React, { useContext } from 'react';\nimport { IpfsUrl } from 'react-ipfs-url';\nimport IpfsContext from '../ipfs-context';\n\nconst ConnectedIpfsUrl = (props) => {\n    const ipfs = useContext(IpfsContext);\n\n    return <IpfsUrl ipfs={ ipfs } { ...props } />;\n};\n\nConnectedIpfsUrl.defaultProps = {\n    strategy: 'ipfs-offline-first',\n};\n\nexport default ConnectedIpfsUrl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar } from '@nomios/web-uikit';\nimport IpfsUrl from '../ipfs-url';\n\nconst IpfsAvatar = ({ image, ...rest }) => {\n    if (!image) {\n        return <Avatar { ...rest } />;\n    }\n\n    return (\n        <IpfsUrl input={ image }>\n            { ({ status, value }) => (\n                <Avatar\n                    image={ status === 'fulfilled' ? value : undefined }\n                    { ...rest } />\n            ) }\n        </IpfsUrl>\n    );\n};\n\nIpfsAvatar.propTypes = {\n    image: PropTypes.string,\n};\n\nexport default IpfsAvatar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { AvatarPicker } from '@nomios/web-uikit';\nimport IpfsUrl from '../ipfs-url';\n\nconst IpfsAvatarPicker = ({ image, ...rest }) => {\n    if (!image) {\n        return <AvatarPicker { ...rest } />;\n    }\n\n    return (\n        <IpfsUrl input={ image }>\n            { ({ status, value }) => (\n                <AvatarPicker\n                    image={ status === 'fulfilled' ? value : undefined }\n                    { ...rest } />\n            ) }\n        </IpfsUrl>\n    );\n};\n\nIpfsAvatarPicker.propTypes = {\n    image: PropTypes.string,\n};\n\nexport default IpfsAvatarPicker;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Svg } from '@nomios/web-uikit';\nimport styles from './GenericStep.css';\n\nconst helmetSvg = import(/* webpackChunkName: \"svg-illustrations-sprite\" */ '../../../shared/media/illustrations/helmet.svg');\n\nclass GenericStep extends Component {\n    render() {\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>Start using Nomios</h2>\n                <p>\n                    Nomios will give you control over your fundamental digital rights:\n                    Identity, data ownership, privacy and security.\n                </p>\n                <div className={ styles.bottomContent }>\n                    <Svg svg={ helmetSvg } className={ styles.illustration } />\n                    <div className={ styles.buttonsWrapper }>\n                        <Button variant=\"negative\" fullWidth onClick={ this.handleCreateIdentity }>Create ID</Button>\n                        <Button variant=\"tertiary\" fullWidth onClick={ this.handleImportIdentity }>Import ID</Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    handleCreateIdentity = () => this.props.onNextStep('create');\n\n    handleImportIdentity = () => this.props.onNextStep('import');\n}\n\nGenericStep.propTypes = {\n    onNextStep: PropTypes.func.isRequired,\n};\n\nexport default GenericStep;\n","import GenericStep from './GenericStep';\n\nexport default GenericStep;\n","const notEmpty = (value) => !value ? 'Required' : undefined;\n\nexport default notEmpty;\n","import React from 'react';\nimport { PromiseState, usePromiseState, getPromiseState } from 'react-promiseful';\n\nconst defaultOptions = {\n    thresholdMs: 300,\n    onSettleDelayMs: {\n        rejected: 2000,\n        fulfilled: 1500,\n        fulfilledWithinThreshold: 0,\n    },\n    statusMap: {\n        pendingWithinThreshold: 'none',\n        fulfilledWithinThreshold: 'none',\n        pending: 'loading',\n        fulfilled: 'success',\n        rejected: 'error',\n    },\n};\n\nexport const ButtonPromiseState = (props) => (\n    <PromiseState\n        { ...defaultOptions }\n        { ...props } />\n);\n\nexport const useButtonPromiseState = (promise, options) => (\n    usePromiseState(promise, {\n        ...defaultOptions,\n        ...options,\n    })\n);\n\nexport { getPromiseState };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Field } from 'react-final-form';\nimport { FORM_ERROR } from 'final-form';\nimport { TextInput, Button, Svg } from '@nomios/web-uikit';\nimport { notEmpty } from '../../../../shared/form-validators';\nimport { ButtonPromiseState } from '../../../../shared/components/button-promise-state';\nimport styles from './Passphrase.css';\n\nconst RESET_PROMISE_TIMEOUT = 1000;\nconst shieldSvg = import(/* webpackChunkName: \"svg-illustrations-sprite\" */ '../../../../shared/media/illustrations/shield.svg');\n\nclass Passphrase extends Component {\n    state = { promise: undefined };\n\n    componentWillUnmount() {\n        clearTimeout(this.resetPromiseTimeout);\n    }\n\n    render() {\n        const { promise } = this.state;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>Backup my Identity</h2>\n                <p>Type in the same passphrase you choose when you set up the locker.</p>\n                <Form onSubmit={ this.handleSubmit }>\n                    { ({ handleSubmit, submitError, dirtySinceLastSubmit, submitting }) => (\n                        <form autoComplete=\"off\" onSubmit={ handleSubmit } className={ styles.form }>\n                            <Field name=\"passphrase\" validate={ notEmpty }>\n                                { ({ input, meta }) => {\n                                    const feedback = this.getTextInputFeedback(meta, submitError, dirtySinceLastSubmit, submitting);\n                                    const lineStrength = feedback && feedback.type === 'error' ? 0 : undefined;\n\n                                    return (\n                                        <TextInput\n                                            { ...input }\n                                            type=\"password\"\n                                            feedback={ feedback }\n                                            label=\"Enter Passphrase\"\n                                            lineStrength={ lineStrength }\n                                            placeholder=\"Enter your passphrase\"\n                                            className={ styles.passphraseInput } />\n                                    );\n                                } }\n                            </Field>\n                            <div className={ styles.buttonContainer }>\n                                <ButtonPromiseState promise={ promise } onSettle={ this.handleSettle }>\n                                    { ({ status }) => (\n                                        <Button feedback={ status }>Continue</Button>\n                                    ) }\n                                </ButtonPromiseState>\n                            </div>\n                        </form>\n                    ) }\n                </Form>\n                <Svg svg={ shieldSvg } className={ styles.illustration } />\n            </div>\n        );\n    }\n\n    getTextInputFeedback(meta, submitError, dirtySinceLastSubmit, submitting) {\n        if (dirtySinceLastSubmit || submitting) {\n            return undefined;\n        }\n\n        if (meta.touched && meta.error) {\n            return { message: meta.error, type: 'error' };\n        }\n\n        if (submitError && submitError.code === 'UNLOCK_INPUT_MISMATCH') {\n            return { message: 'Invalid passphrase', type: 'error' };\n        }\n\n        return undefined;\n    }\n\n    handleSubmit = ({ passphrase }) => {\n        const promise = this.props.unlock('passphrase', passphrase);\n\n        this.setState({ promise });\n\n        return promise.catch((err) => ({\n            [FORM_ERROR]: err,\n        }));\n    };\n\n    handleSettle = ({ status }) => {\n        if (status === 'fulfilled') {\n            this.props.onNextStep(this.props.nextStepId);\n        }\n\n        this.resetPromiseTimeout = setTimeout(() => this.setState({ promise: undefined }), RESET_PROMISE_TIMEOUT);\n    };\n}\n\nPassphrase.propTypes = {\n    nextStepId: PropTypes.string.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n    unlock: PropTypes.func.isRequired,\n};\n\nexport default Passphrase;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { PdfIcon } from '@nomios/web-uikit';\nimport styles from './PdfBox.css';\n\nconst PdfBox = ({ title, description, children }) => (\n    <div className={ styles.box }>\n        <div className={ styles.top }>\n            <PdfIcon className={ styles.icon } />\n            <h3 className={ styles.title }>{ title }</h3>\n            { description && <p className={ styles.desc }>{ description }</p> }\n        </div>\n        <div className={ styles.bottom }>{ children }</div>\n    </div>\n);\n\nPdfBox.propTypes = {\n    children: PropTypes.node.isRequired,\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string,\n};\n\nexport default PdfBox;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { TextButton } from '@nomios/web-uikit';\nimport styles from './PdfActionItem.css';\n\nconst PdfActionItem = ({ children, icon, className, ...rest }) => (\n    <TextButton\n        { ...rest }\n        variant=\"small\"\n        iconPosition=\"left\"\n        className={ classNames(styles.textButton, className) }\n        icon={ <div className={ styles.iconContainer }>{ icon }</div> }>\n        { children }\n    </TextButton>\n);\n\nPdfActionItem.propTypes = {\n    children: PropTypes.node.isRequired,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n};\n\nexport default PdfActionItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport PdfBox from '../../../../shared/components/pdf-box';\nimport PdfActionItem from '../../../../shared/components/pdf-box/pdf-action-item';\nimport { PrintIcon, DownloadIcon, TextButton, EditIcon, Button } from '@nomios/web-uikit';\nimport styles from './PaperKey.css';\n\nclass PaperKey extends Component {\n    render() {\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>Your paper key</h2>\n                <p>It&apos;s important to save your recovery key in a safe place to backup your identity.</p>\n                <PdfBox title=\"Get PDF file\" description=\"Download or print a file with your key.\">\n                    <div className={ styles.boxActionsContainer }>\n                        <PdfActionItem\n                            onClick={ this.handleDownloadClick }\n                            icon={ <DownloadIcon className={ styles.icon } /> }>\n                            Download\n                        </PdfActionItem>\n                        <PdfActionItem\n                            onClick={ this.handlePrintClick }\n                            icon={ <PrintIcon className={ styles.icon } /> }>\n                            Print\n                        </PdfActionItem>\n                    </div>\n                </PdfBox>\n                <div className={ styles.buttonsWrapper }>\n                    <div className={ styles.container }>\n                        <TextButton\n                            onClick={ this.handleSaveKeyManually }\n                            variant=\"small\"\n                            iconPosition=\"left\"\n                            icon={ <EditIcon /> }>\n                            Or do it manually\n                        </TextButton>\n                        <Button disabled>Continue</Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    handlePrintClick = () => alert('Print not implemented yet');\n    handleDownloadClick = () => alert('Download not implemented yet');\n\n    handleSaveKeyManually = () => {\n        const { manual: manualStepId } = this.props.nextStepsId;\n\n        this.props.onNextStep(manualStepId);\n    };\n}\n\nPaperKey.propTypes = {\n    nextStepsId: PropTypes.shape({\n        manual: PropTypes.string,\n        automatic: PropTypes.string,\n    }).isRequired,\n    onNextStep: PropTypes.func.isRequired,\n};\n\nexport default PaperKey;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { TextButton, CopyIcon } from '@nomios/web-uikit';\nimport styles from './MnemonicBox.css';\n\nclass MnemonicBox extends Component {\n    state = { copied: false };\n    stringifyMnemonic = memoizeOne((mnemonic) => mnemonic.join(' '));\n\n    render() {\n        const { mnemonic } = this.props;\n        const { copied } = this.state;\n\n        return (\n            <div className={ styles.box }>\n                <div className={ styles.top }>\n                    { this.renderWords(mnemonic) }\n                </div>\n                <div className={ styles.bottom }>\n                    <CopyToClipboard text={ this.stringifyMnemonic(mnemonic) } onCopy={ this.handleOnCopy }>\n                        <TextButton\n                            variant=\"small\"\n                            iconPosition=\"left\"\n                            icon={ <CopyIcon /> }>\n                            { copied ? 'Copied!' : 'Copy to clipboard' }\n                        </TextButton>\n                    </CopyToClipboard>\n                </div>\n            </div>\n        );\n    }\n\n    renderWords = memoizeOne((mnemonic) => mnemonic.map((word, index) => {\n        const wordNumber = `0${index + 1}`.slice(-2);\n\n        return (\n            <div key={ index } className={ styles.wordContainer }>\n                <span className={ styles.number }>{ `#${wordNumber}` }</span>\n                <span>{ word }</span>\n            </div>\n        );\n    }));\n\n    handleOnCopy = () => {\n        this.setState({ copied: true });\n    };\n}\n\nMnemonicBox.propTypes = {\n    mnemonic: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default MnemonicBox;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MnemonicBox from './mnemonic-box';\nimport { Button } from '@nomios/web-uikit';\nimport styles from './WriteWords.css';\n\nclass WriteWords extends Component {\n    render() {\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>Your paper key</h2>\n                <p>It&apos;s important to save your recovery key in a safe place to backup your identity.</p>\n                <MnemonicBox mnemonic={ this.props.mnemonic } />\n                <div className={ styles.buttonsWrapper }>\n                    <Button variant=\"secondary\" disabled>Get PDF file</Button>\n                    <Button onClick={ this.handleNextStep }>Continue</Button>\n                </div>\n            </div>\n        );\n    }\n\n    handleNextStep = () => this.props.onNextStep(this.props.nextStepId);\n}\n\nWriteWords.propTypes = {\n    mnemonic: PropTypes.arrayOf(PropTypes.string).isRequired,\n    nextStepId: PropTypes.string.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n};\n\nexport default WriteWords;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { Badge } from '@nomios/web-uikit';\nimport styles from './MnemonicGrid.css';\n\nclass MnemonicGrid extends Component {\n    render() {\n        return (\n            <div className={ styles.mnemonicGrid }>\n                { this.renderMnemonicGrid() }\n            </div>\n        );\n    }\n\n    renderMnemonicGrid() {\n        const { mnemonic, selectedIndexes } = this.props;\n\n        return mnemonic.map((word, index) => (\n            <Badge\n                key={ index }\n                className={ styles.badge }\n                selected={ selectedIndexes.includes(index) }\n                onClick={ this.handleBadgeClick(index) }>\n                { word }\n            </Badge>\n        ));\n    }\n\n    handleBadgeClick = memoizeOne((index) => () => {\n        this.props.onToggle(index);\n    });\n}\n\nMnemonicGrid.propTypes = {\n    selectedIndexes: PropTypes.arrayOf(PropTypes.number).isRequired,\n    mnemonic: PropTypes.arrayOf(PropTypes.string).isRequired,\n    onToggle: PropTypes.func.isRequired,\n};\n\nexport default MnemonicGrid;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { shuffle, random, remove } from 'lodash';\nimport { Button, FeedbackMessage } from '@nomios/web-uikit';\nimport MnemonicGrid from './mnemonic-grid';\nimport { ButtonPromiseState } from '../../../../shared/components/button-promise-state';\nimport styles from './VerifyMnemonicWords.css';\n\nconst NUMBER_OF_WORDS = 2;\n\nclass VerifyMnemonicWords extends Component {\n    state = {\n        error: undefined,\n        promise: undefined,\n        selectedIndexes: [],\n    };\n\n    shuffledMnemonic = [];\n    randomWordsIndex = [];\n\n    constructor(props) {\n        super(props);\n\n        this.shuffledMnemonic = shuffle(props.mnemonic);\n        this.randomWordsIndex = this.generateRandomIndexes(NUMBER_OF_WORDS);\n    }\n\n    render() {\n        const { error, selectedIndexes, promise } = this.state;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>Secret Recovery Key</h2>\n                <p>{ `Verify by selecting words #${this.randomWordsIndex[0] + 1} and #${this.randomWordsIndex[1] + 1}.` }</p>\n                <MnemonicGrid\n                    mnemonic={ this.shuffledMnemonic }\n                    selectedIndexes={ selectedIndexes }\n                    onToggle={ this.handleToggleSelect } />\n                { error && (\n                    <FeedbackMessage\n                        className={ styles.errorMessage }\n                        type=\"error\"\n                        variant=\"large\">\n                        { error }\n                    </FeedbackMessage>\n                ) }\n                <div className={ styles.buttonsWrapper }>\n                    <Button\n                        variant=\"secondary\"\n                        className={ styles.button }\n                        onClick={ this.handlePrevStep }>\n                        See words again\n                    </Button>\n                    <ButtonPromiseState promise={ promise } onSettle={ this.handleSettle }>\n                        { ({ status }) => (\n                            <Button\n                                feedback={ status }\n                                className={ styles.button }\n                                onClick={ this.handleNextStep }>\n                                Confirm\n                            </Button>\n                        ) }\n                    </ButtonPromiseState>\n                </div>\n            </div>\n        );\n    }\n\n    generateRandomIndexes(wordsNumber) {\n        const indexesArray = [];\n\n        while (indexesArray.length < wordsNumber) {\n            const randomNumber = random(0, 11);\n\n            if (!indexesArray.includes(randomNumber)) {\n                indexesArray.push(randomNumber);\n            }\n        }\n\n        return indexesArray;\n    }\n\n    wordsAreCorrect() {\n        const { selectedIndexes } = this.state;\n        const { mnemonic } = this.props;\n\n        const firstWordIndex = this.randomWordsIndex[0];\n        const secondWordIndex = this.randomWordsIndex[1];\n        const firstWord = mnemonic[firstWordIndex];\n        const secondWord = mnemonic[secondWordIndex];\n\n        const selectedWords = selectedIndexes.map((index) => this.shuffledMnemonic[index]);\n\n        return selectedWords.includes(firstWord) && selectedWords.includes(secondWord);\n    }\n\n    handleToggleSelect = (index) => {\n        const { selectedIndexes } = this.state;\n\n        if (!selectedIndexes.includes(index)) {\n            selectedIndexes.length < NUMBER_OF_WORDS && selectedIndexes.push(index);\n        } else {\n            remove(selectedIndexes, (element) => element === index);\n        }\n\n        this.setState({ selectedIndexes, error: undefined });\n    };\n\n    handlePrevStep = () => this.props.onNextStep(this.props.prevStepId);\n\n    handleNextStep = () => {\n        const { selectedIndexes } = this.state;\n        const { setComplete } = this.props;\n\n        if (selectedIndexes.length < NUMBER_OF_WORDS) {\n            this.setState({ error: 'You must select 2 words. Please, try again.' });\n        } else if (this.wordsAreCorrect()) {\n            const promise = setComplete();\n\n            this.setState({ promise });\n        } else {\n            this.shuffledMnemonic = shuffle(this.props.mnemonic);\n            this.randomWordsIndex = this.generateRandomIndexes(NUMBER_OF_WORDS);\n            this.setState({\n                error: 'Selected words do not match your recovery key, please try again.',\n                selectedIndexes: [],\n            });\n        }\n    };\n\n    handleSettle = (state) => {\n        if (state.status === 'fulfilled') {\n            this.props.onNextStep(this.props.nextStepId);\n        } else {\n            this.setState({ error: state.value });\n        }\n    };\n}\n\nVerifyMnemonicWords.propTypes = {\n    mnemonic: PropTypes.arrayOf(PropTypes.string).isRequired,\n    nextStepId: PropTypes.string.isRequired,\n    prevStepId: PropTypes.string.isRequired,\n    setComplete: PropTypes.func.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n};\n\nexport default VerifyMnemonicWords;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { Button } from '@nomios/web-uikit';\nimport { IpfsAvatar } from '../../../../shared/components/ipfs';\nimport styles from './Feedback.css';\n\nclass Feedback extends Component {\n    getFirstName = memoizeOne((name) => name.split(' ')[0]);\n\n    render() {\n        const { isBackedup, onRequestClose, profileDetails: { name, image } } = this.props;\n        const feedbackText = isBackedup ?\n            `${this.getFirstName(name)}, your identity is already backed up!` :\n            `${this.getFirstName(name)}, your identity is now totally secure!`;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <IpfsAvatar name={ name } image={ image } className={ styles.avatar } />\n                <h2 className={ styles.heading }>{ feedbackText }</h2>\n                <p>\n                    You have already backed up your identity before. This identity is totally secure.\n                </p>\n                <div className={ styles.buttonsWrapper } onClick={ onRequestClose }>\n                    <Button className={ styles.button }>{ isBackedup ? 'Close' : 'Go to app' }</Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nFeedback.propTypes = {\n    profileDetails: PropTypes.object.isRequired,\n    onRequestClose: PropTypes.func.isRequired,\n    isBackedup: PropTypes.bool,\n};\n\nFeedback.defaultProps = {\n    isBackedup: false,\n};\n\nexport default Feedback;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { FlowModal, FlowModalStep } from '@nomios/web-uikit';\nimport { Passphrase, PaperKey, WriteWords, VerifyMnemonicWords, Feedback } from './steps';\nimport { connectIdmWallet } from 'react-idm-wallet';\n// import styles from './BackupIdentity.css';\n\nconst initialState = { currentStepId: 'passphrase' };\n\nclass BackupIdentity extends Component {\n    state = initialState;\n\n    getMnemonicArray = memoizeOne((data) => data && data.mnemonic.split(' '));\n\n    constructor(props) {\n        super(props);\n\n        this.mnemonic = this.getMnemonicArray(props.backupData);\n    }\n\n    render() {\n        const { unlock, profileDetails, onRequestClose, setComplete } = this.props;\n        const { currentStepId } = this.state;\n        const isBackedup = !this.mnemonic;\n\n        return (\n            <FlowModal\n                { ...this.props }\n                variant=\"simple\"\n                step={ isBackedup ? 'info' : currentStepId }\n                onExited={ this.handleExited }>\n                { isBackedup ? (\n                    <FlowModalStep id=\"info\">\n                        <Feedback\n                            isBackedup\n                            onRequestClose={ onRequestClose }\n                            profileDetails={ profileDetails } />\n                    </FlowModalStep>\n                ) : (\n                    <Fragment>\n                        <FlowModalStep id=\"passphrase\">\n                            <Passphrase\n                                unlock={ unlock }\n                                nextStepId=\"paper-key\"\n                                onNextStep={ this.handleNextStep } />\n                        </FlowModalStep>\n                        <FlowModalStep id=\"paper-key\">\n                            <PaperKey\n                                onNextStep={ this.handleNextStep }\n                                nextStepsId={ { manual: 'write-words', automatic: '' } } />\n                        </FlowModalStep>\n                        <FlowModalStep id=\"write-words\">\n                            <WriteWords\n                                mnemonic={ this.mnemonic }\n                                nextStepId=\"verify-mnemonic-words\"\n                                onNextStep={ this.handleNextStep } />\n                        </FlowModalStep>\n                        <FlowModalStep id=\"verify-mnemonic-words\">\n                            <VerifyMnemonicWords\n                                nextStepId=\"feedback\"\n                                mnemonic={ this.mnemonic }\n                                prevStepId=\"write-words\"\n                                setComplete={ setComplete }\n                                onNextStep={ this.handleNextStep } />\n                        </FlowModalStep>\n                        <FlowModalStep id=\"feedback\">\n                            <Feedback\n                                profileDetails={ profileDetails }\n                                onRequestClose={ onRequestClose } />\n                        </FlowModalStep>\n                    </Fragment>\n                ) }\n            </FlowModal>\n        );\n    }\n\n    handleNextStep = (nextStepId) => {\n        this.setState({ currentStepId: nextStepId });\n    };\n\n    handleExited = () => {\n        this.setState(initialState);\n        this.mnemonic = this.getMnemonicArray(this.props.backupData);\n        this.props.onExited && this.props.onExited();\n    };\n}\n\nBackupIdentity.propTypes = {\n    profileDetails: PropTypes.object.isRequired,\n    setComplete: PropTypes.func.isRequired,\n    unlock: PropTypes.func.isRequired,\n    id: PropTypes.string.isRequired,\n    onRequestClose: PropTypes.func,\n    backupData: PropTypes.object,\n    onExited: PropTypes.func,\n};\n\nexport default connectIdmWallet((idmWallet) => {\n    const getSetComplete = memoizeOne((id) => () => idmWallet.identities.get(id).backup.setComplete());\n    const unlock = (type, input) => idmWallet.locker.getLock(type).unlock(input);\n\n    return ({ id }) => ({\n        profileDetails: idmWallet.identities.get(id).profile.getDetails(),\n        backupData: idmWallet.identities.get(id).backup.getData(),\n        setComplete: getSetComplete(id),\n        unlock,\n    });\n})(BackupIdentity);\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './FadeContainer.css';\n\nclass FadeContainer extends Component {\n    static getDerivedStateFromProps(props, state) {\n        // It means a change of active index has occurred\n        if (props.activeIndex !== state.activeIndex) {\n            return state.isFirstRender ?\n                { activeIndex: props.activeIndex, isFirstRender: false } :\n                { requestNextActiveIndex: props.activeIndex };\n        }\n\n        return null;\n    }\n\n    contentRef = createRef();\n\n    state = {\n        isFirstRender: true,\n        activeIndex: undefined,\n        requestNextActiveIndex: false,\n    };\n\n    render() {\n        const { activeIndex, requestNextActiveIndex } = this.state;\n        const { children, className } = this.props;\n\n        const isVisible = typeof requestNextActiveIndex === 'boolean';\n\n        return (\n            <div className={ classNames(styles.content, isVisible && styles.visible, className) }\n                ref={ this.contentRef }\n                onTransitionEnd={ this.handleTransitionEnd }>\n                { children[activeIndex] }\n            </div>\n        );\n    }\n\n    handleTransitionEnd = (event) => {\n        const { requestNextActiveIndex } = this.state;\n        const isAnimatingIn = typeof requestNextActiveIndex === 'boolean';\n\n        if (event.target !== this.contentRef.current || isAnimatingIn) {\n            return;\n        }\n\n        this.setState({\n            activeIndex: requestNextActiveIndex,\n            requestNextActiveIndex: false,\n        });\n    };\n}\n\nFadeContainer.propTypes = {\n    children: PropTypes.node.isRequired,\n    activeIndex: PropTypes.number,\n    className: PropTypes.string,\n};\n\nFadeContainer.defaultProps = {\n    activeIndex: 0,\n};\n\nexport default FadeContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './BulletsIndicator.css';\n\nconst BulletsIndicator = (props) => (\n    <div className={ classNames(styles.wrapper, props.className) }>\n        {\n            props.bulletCallbacks.map((callback, index) => {\n                const bulletClasses = classNames(styles.bullet, props.activeIndex === index && styles.active);\n\n                return <div key={ index } className={ bulletClasses } onClick={ callback } />;\n            })\n        }\n    </div>\n);\n\nBulletsIndicator.propTypes = {\n    bulletCallbacks: PropTypes.array.isRequired,\n    activeIndex: PropTypes.number,\n    className: PropTypes.string,\n};\n\nBulletsIndicator.defaultProps = {\n    activeIndex: 0,\n};\n\nexport default BulletsIndicator;\n","import React from 'react';\nimport { UserIcon, EntityIcon, OtherIcon, CheckmarkIcon } from '@nomios/web-uikit';\n\nexport default [\n    {\n        id: 'Person',\n        label: 'Person',\n        badge: <CheckmarkIcon />,\n        icon: <UserIcon />,\n        avatarLabel: 'Add photo',\n        inputLabel: 'Your name',\n        inputPlaceholder: 'Enter your name',\n    },\n    {\n        id: 'Organization',\n        label: 'Organization',\n        badge: <CheckmarkIcon />,\n        icon: <EntityIcon />,\n        avatarLabel: 'Add logo',\n        inputLabel: 'Organization name',\n        inputPlaceholder: 'Enter organization name',\n    },\n    {\n        id: 'Thing',\n        label: 'Other',\n        badge: <CheckmarkIcon />,\n        icon: <OtherIcon />,\n        avatarLabel: 'Add image',\n        inputLabel: 'Name',\n        inputPlaceholder: 'Enter the name',\n    },\n];\n","/* eslint-disable react/jsx-handler-names */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Field, FormSpy } from 'react-final-form';\nimport { Button, TypeGroup, TypeOption, AvatarPicker, TextInput } from '@nomios/web-uikit';\nimport FadeContainer from '../../../../shared/components/fade-container';\nimport BulletsIndicator from '../../../../shared/components/bullets-indicator';\nimport { notEmpty } from '../../../../shared/form-validators';\nimport identities from './identities';\nimport styles from './IdentityInfo.css';\n\nconst FORM_INITIAL_VALUES = {\n    type: 'Person',\n};\n\nclass IdentityInfo extends Component {\n    state = {\n        activeSubStepIndex: 0,\n        identityImage: null,\n    };\n\n    selectedIdentityInfo = this.getIdentityInfo(FORM_INITIAL_VALUES.type);\n\n    constructor() {\n        super();\n\n        this.bulletCallbacks = [\n            this.handleGoToIdentityType,\n            this.handleGoToIdentityName,\n        ];\n    }\n\n    render() {\n        const { activeSubStepIndex } = this.state;\n        const { icon, avatarLabel, inputLabel, inputPlaceholder } = this.selectedIdentityInfo;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>1. Tell us who you are</h2>\n                <p>\n                    Nomios will give you control over your fundamental digital rights:\n                    Identity, data ownership, privacy and security.\n                </p>\n\n                <Form\n                    initialValues={ FORM_INITIAL_VALUES }\n                    onSubmit={ this.handleOnSubmit }>\n                    { ({ handleSubmit, values }) => (\n                        <form autoComplete=\"off\" onSubmit={ handleSubmit }>\n                            <FormSpy onChange={ this.handleFormChange } />\n                            <FadeContainer activeIndex={ activeSubStepIndex }>\n                                <Field name=\"type\">\n                                    { ({ input }) => (\n                                        <TypeGroup\n                                            selectedId={ input.value }\n                                            className={ styles.typeGroup }\n                                            name={ input.name }\n                                            onSelect={ input.onChange }>\n                                            { this.renderIdentities() }\n                                        </TypeGroup>\n                                    ) }\n                                </Field>\n                                <div className={ styles.identityInfoWrapper }>\n                                    <AvatarPicker\n                                        name={ values.name }\n                                        icon={ icon }\n                                        label={ avatarLabel }\n                                        onChange={ this.handleAvatarInputChange } />\n                                    <Field\n                                        name=\"name\"\n                                        validate={ notEmpty }>\n                                        { ({ input, meta }) => {\n                                            const lineStrength = meta.touched && meta.error ? 0 : undefined;\n                                            const feedback = meta.touched && meta.error ? { message: meta.error, type: 'error' } : undefined;\n\n                                            return (\n                                                <TextInput\n                                                    { ...input }\n                                                    className={ styles.textInput }\n                                                    label={ inputLabel }\n                                                    placeholder={ inputPlaceholder }\n                                                    lineStrength={ lineStrength }\n                                                    feedback={ feedback } />\n                                            );\n                                        } }\n                                    </Field>\n                                </div>\n                            </FadeContainer>\n                            <div className={ styles.buttonWrapper }>\n                                <Button>Continue</Button>\n                            </div>\n                        </form>\n                    ) }\n                </Form>\n\n                <BulletsIndicator\n                    className={ styles.bulletsIndicator }\n                    activeIndex={ activeSubStepIndex }\n                    bulletCallbacks={ this.bulletCallbacks } />\n            </div>\n        );\n    }\n\n    renderIdentities() {\n        return (\n            identities.map((identity, index) => (\n                <TypeOption key={ index } id={ identity.id } label={ identity.label } badge={ identity.badge }>\n                    { identity.icon }\n                </TypeOption>\n            ))\n        );\n    }\n\n    getIdentityInfo(id) {\n        return identities.filter((identity) => identity.id === id)[0];\n    }\n\n    goToIdentityName(formData) {\n        this.selectedIdentityInfo = formData && formData.type ?\n            this.getIdentityInfo(formData.type) :\n            this.selectedIdentityInfo;\n\n        this.handleBulletClick(1);\n    }\n\n    handleBulletClick(bulletIndex) {\n        if (bulletIndex !== this.state.activeSubStepIndex) {\n            this.setState({ activeSubStepIndex: bulletIndex });\n        }\n    }\n\n    handleGoToIdentityType = () => this.handleBulletClick(0);\n    handleGoToIdentityName = () => this.goToIdentityName();\n\n    // We are controlling this input manually to avoid installing third-party libs.\n    // Check this issue here: https://github.com/final-form/react-final-form/issues/92\n    handleAvatarInputChange = (imageFile) => {\n        this.setState({ identityImage: imageFile });\n    };\n\n    handleFormChange = ({ modified, values }) => {\n        if (modified.type) {\n            this.selectedIdentityInfo = this.getIdentityInfo(values.type);\n        }\n    };\n\n    handleOnSubmit = (formData) => {\n        switch (this.state.activeSubStepIndex) {\n        case 0:\n            this.goToIdentityName(formData);\n            break;\n        case 1:\n            this.handleNextStep(formData);\n            break;\n        default:\n            break;\n        }\n    };\n\n    handleNextStep = (formData) => {\n        const finalData = { image: this.state.identityImage, ...formData };\n\n        this.props.onNextStep(this.props.nextStepId, finalData);\n    };\n}\n\nIdentityInfo.propTypes = {\n    nextStepId: PropTypes.string.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n};\n\nexport default IdentityInfo;\n","import IdentityInfo from './IdentityInfo';\n\nexport default IdentityInfo;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FadeContainer from '../../../../shared/components/fade-container';\nimport styles from './FeedbackStep.css';\n\nclass FeedbackStep extends Component {\n    static getDerivedStateFromProps(props, state) {\n        if (props.status === state.status) {\n            return null;\n        }\n\n        const activeSubStepIndex = props.status === 'pending' ? 0 : 1;\n        const messages = props.status === 'fulfilled' ? props.stepData.success : props.stepData.error;\n        const actions = props.status === 'fulfilled' ? props.successActions : props.errorActions;\n\n        return {\n            activeSubStepIndex,\n            messages,\n            actions,\n        };\n    }\n\n    state = {\n        activeSubStepIndex: 0,\n        messages: undefined,\n        actions: undefined,\n    };\n\n    render() {\n        const { messages, actions, activeSubStepIndex } = this.state;\n        const { stepData: { loadingText } } = this.props;\n\n        return (\n            <FadeContainer activeIndex={ activeSubStepIndex }>\n                <div className={ styles.loadingContainer }>\n                    <h2>{ loadingText }</h2>\n                </div>\n                <div className={ styles.feedbackContainer }>\n                    <div className={ styles.textContainer }>\n                        <h2>{ messages.title }</h2>\n                        <p>{ messages.message }</p>\n                    </div>\n                    <div className={ styles.actionsContainer }>\n                        { actions }\n                    </div>\n                </div>\n            </FadeContainer>\n        );\n    }\n}\n\nFeedbackStep.propTypes = {\n    status: PropTypes.string.isRequired,\n    successActions: PropTypes.node,\n    errorActions: PropTypes.node,\n    stepData: PropTypes.shape({\n        loadingText: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.number,\n        ]),\n        success: PropTypes.shape({\n            title: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number,\n            ]),\n            message: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number,\n            ]),\n        }),\n        error: PropTypes.shape({\n            title: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number,\n            ]),\n            message: PropTypes.oneOfType([\n                PropTypes.string,\n                PropTypes.number,\n            ]),\n        }),\n    }).isRequired,\n};\n\nexport default FeedbackStep;\n","import FeedbackStep from './FeedbackStep';\n\nexport default FeedbackStep;\n","import React from 'react';\nimport { MobileIcon, TabletIcon, LaptopIcon, DesktopIcon } from '@nomios/web-uikit';\n\nexport default [\n    {\n        id: 'phone',\n        label: 'Mobile',\n        icon: <MobileIcon />,\n    },\n    {\n        id: 'tablet',\n        label: 'Tablet',\n        icon: <TabletIcon />,\n    },\n    {\n        id: 'laptop',\n        label: 'Laptop',\n        icon: <LaptopIcon />,\n    },\n    {\n        id: 'desktop',\n        label: 'Desktop',\n        icon: <DesktopIcon />,\n    },\n];\n","import { isMobile, isMobileOnly, mobileVendor } from 'react-device-detect';\n\nlet deviceInfo;\n\nconst getDeviceType = async () => {\n    if (!navigator.getBattery) {\n        return 'desktop';\n    }\n\n    let battery;\n\n    try {\n        battery = await navigator.getBattery();\n    } catch (err) {\n        return 'desktop';\n    }\n\n    if (battery.charging && battery.chargingTime === 0) {\n        return 'desktop';\n    }\n\n    return 'laptop';\n};\n\nconst getDeviceInfo = async () => {\n    // isMobile returns true if device type is mobile or tablet\n    if (isMobile) {\n        const type = isMobileOnly ? 'phone' : 'tablet';\n        const mobileName = mobileVendor !== 'none' ? mobileVendor : type;\n\n        return {\n            type,\n            nameSufix: mobileName,\n        };\n    }\n\n    const type = await getDeviceType();\n\n    deviceInfo = {\n        type,\n        nameSufix: type,\n    };\n\n    return deviceInfo;\n};\n\ngetDeviceInfo();\n\nexport default getDeviceInfo;\nexport { deviceInfo };\n","/* eslint-disable react/jsx-handler-names */\nimport React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { startCase } from 'lodash';\nimport { Form, Field, FormSpy } from 'react-final-form';\nimport { Button, TypeGroup, TypeOption, TextInput, EditIcon, CheckmarkIcon } from '@nomios/web-uikit';\nimport FadeContainer from '../../../../shared/components/fade-container';\nimport { notEmpty } from '../../../../shared/form-validators';\nimport devices from '../../../../shared/data/devices';\nimport { deviceInfo } from './device-info';\nimport styles from './SetupDeviceStep.css';\n\nconst SUBSTEP_TRANSITION_DELAY = 300;\nconst DEVICE_INFO_FALLBACK = {\n    type: 'desktop',\n    nameSufix: 'Device',\n};\n\nclass SetupDeviceStep extends Component {\n    state = {\n        selectedOption: null,\n        activeSubStepIndex: 1,\n    };\n\n    formRef = createRef();\n\n    constructor(props) {\n        super(props);\n\n        this.detectedDeviceInfo = deviceInfo ? deviceInfo : DEVICE_INFO_FALLBACK;\n        this.selectedDeviceInfo = this.getSelectedDeviceInfo(this.detectedDeviceInfo.type);\n        this.formInitialValues = {\n            type: this.selectedDeviceInfo.id,\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!prevProps.identityFirstName && this.props.identityFirstName) {\n            this.setTextInputValue(this.props.identityFirstName, this.detectedDeviceInfo.nameSufix);\n        }\n\n        if (prevProps.identityFirstName !== this.props.identityFirstName) {\n            const sufix = !this.state.selectedOption ? this.detectedDeviceInfo.nameSufix : this.selectedDeviceInfo.label;\n            const prevDeviceName = this.getDefaultDeviceName(prevProps.identityFirstName, sufix);\n            const currentDeviceName = this.formRef.current.form.getFieldState('name').value;\n\n            if (prevDeviceName === currentDeviceName) {\n                this.setTextInputValue(this.props.identityFirstName, this.selectedDeviceInfo.label);\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        this.substepTransitionTimeout && clearTimeout(this.substepTransitionTimeout);\n    }\n\n    render() {\n        const { stepData: { title, description, buttonText } } = this.props;\n        const { activeSubStepIndex } = this.state;\n        const { label, icon } = this.selectedDeviceInfo;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>{ title }</h2>\n                <p>{ description }</p>\n\n                <Form\n                    ref={ this.formRef }\n                    initialValues={ this.formInitialValues }\n                    onSubmit={ this.handleOnSubmit }>\n                    { ({ handleSubmit }) => (\n                        <form autoComplete=\"off\" onSubmit={ handleSubmit }>\n                            <FormSpy onChange={ this.handleFormChange } />\n                            <FadeContainer activeIndex={ activeSubStepIndex }>\n                                { this.renderTypeGroupField() }\n                                <div className={ styles.deviceInfoWrapper }>\n                                    <TypeOption\n                                        label={ label }\n                                        selected\n                                        badge={ <EditIcon /> }\n                                        onClick={ this.handleTypeOptionClick }>\n                                        { icon }\n                                    </TypeOption>\n                                    <Field\n                                        name=\"name\"\n                                        validate={ notEmpty }>\n                                        { ({ input, meta }) => {\n                                            const lineStrength = meta.touched && meta.error ? 0 : undefined;\n                                            const feedback = meta.touched && meta.error ? { message: meta.error, type: 'error' } : undefined;\n\n                                            return (\n                                                <TextInput\n                                                    { ...input }\n                                                    className={ styles.textInput }\n                                                    label=\"Device name\"\n                                                    placeholder=\"Enter device name\"\n                                                    lineStrength={ lineStrength }\n                                                    feedback={ feedback } />\n                                            );\n                                        } }\n                                    </Field>\n                                </div>\n                            </FadeContainer>\n                            <div className={ styles.buttonWrapper }>\n                                <Button disabled={ activeSubStepIndex === 0 }>{ buttonText }</Button>\n                            </div>\n                        </form>\n                    ) }\n                </Form>\n            </div>\n        );\n    }\n\n    renderDevices() {\n        return (\n            devices.map((device, index) => (\n                <TypeOption key={ index } id={ device.id } label={ device.label } badge={ <CheckmarkIcon /> }>\n                    { device.icon }\n                </TypeOption>\n            ))\n        );\n    }\n\n    renderTypeGroupField() {\n        const { selectedOption } = this.state;\n\n        return (\n            <Field name=\"type\">\n                { ({ input, meta }) => {\n                    if (!meta.data.handleOnChange) {\n                        meta.data.handleOnChange = (selectedId) => {\n                            input.onChange(selectedId);\n                            this.handleSelectIndentityDevice(selectedId);\n                        };\n                    }\n\n                    return (\n                        <TypeGroup\n                            selectedId={ selectedOption }\n                            className={ styles.typeGroup }\n                            name={ input.name }\n                            onSelect={ meta.data.handleOnChange } >\n                            { this.renderDevices() }\n                        </TypeGroup>\n                    );\n                } }\n            </Field>\n        );\n    }\n\n    getSelectedDeviceInfo(id) {\n        return devices.filter((device) => device.id === id)[0];\n    }\n\n    getDefaultDeviceName(name, sufix) {\n        return `${name}'s ${startCase(sufix)}`;\n    }\n\n    setTextInputValue(name, sufix) {\n        const deviceName = this.getDefaultDeviceName(name, sufix);\n\n        this.formRef.current.form.change('name', deviceName);\n    }\n\n    handleTypeOptionClick = () => {\n        this.setState({ activeSubStepIndex: 0, selectedOption: null });\n    };\n\n    handleSelectIndentityDevice = (selectedId) => {\n        this.setState({\n            selectedOption: selectedId,\n        }, () => {\n            this.substepTransitionTimeout = setTimeout(() => {\n                this.setState({ activeSubStepIndex: 1 });\n            }, SUBSTEP_TRANSITION_DELAY);\n        });\n    };\n\n    handleFormChange = ({ modified, values }) => {\n        if (modified.type) {\n            const prevDeviceName = this.getDefaultDeviceName(this.props.identityFirstName, this.selectedDeviceInfo.label);\n            const currentDeviceName = values.name;\n\n            if (prevDeviceName === currentDeviceName) {\n                this.selectedDeviceInfo = this.getSelectedDeviceInfo(values.type);\n\n                this.setTextInputValue(this.props.identityFirstName, this.selectedDeviceInfo.label);\n            }\n        }\n    };\n\n    handleOnSubmit = (formData) => {\n        this.props.onNextStep(this.props.nextStepId, formData);\n    };\n}\n\nSetupDeviceStep.propTypes = {\n    identityFirstName: PropTypes.string,\n    nextStepId: PropTypes.string.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n    stepData: PropTypes.shape({\n        description: PropTypes.string,\n        buttonText: PropTypes.string,\n        title: PropTypes.string,\n    }).isRequired,\n};\n\nexport default SetupDeviceStep;\n","import SetupDeviceStep from './SetupDeviceStep';\n\nexport default SetupDeviceStep;\n","import React from 'react';\nimport { SetupDeviceStep } from '../../common-steps';\n\nconst stepData = {\n    title: '2. Setup your device',\n    description: 'To complete your identity creation you must enter your device name and select which type of device are you on.',\n    buttonText: 'Continue',\n};\n\nconst IdentityDevice = (props) => <SetupDeviceStep { ...props } stepData={ stepData } />;\n\nexport default IdentityDevice;\n","import IdentityDevice from './IdentityDevice';\n\nexport default IdentityDevice;\n","import React from 'react';\nimport { FeedbackStep } from '../../common-steps';\n\nconst stepData = {\n    loadingText: 'Please wait while we create your identity...',\n    success: {\n        title: 'Welcome! Your identity was created sucessfully, against all odds.',\n        message: 'Your ID is ready and secure, but you must record your Secret Recovery Key to add new devices and backup this identity.',\n    },\n    error: {\n        title: 'Oops...',\n        message: 'Looks like something went wrong.',\n    },\n};\n\nconst Feedback = (props) => <FeedbackStep { ...props } stepData={ stepData } />;\n\nexport default Feedback;\n","import Feedback from './Feedback';\n\nexport default Feedback;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { FeedbackMessage } from '@nomios/web-uikit';\nimport { Field } from 'react-final-form';\nimport styles from './RecoveryTextArea.css';\n\nconst RECOVERY_WORD_NUMBER = 12;\n\nclass RecoveryTextArea extends Component {\n    render() {\n        const { className } = this.props;\n        const inputWrapperClassName = classNames(styles.inputWrapper, className);\n\n        return (\n            <div className={ inputWrapperClassName }>\n                <Field name=\"mnemonic\" validate={ this.validateInput }>\n                    { ({ input, meta }) => {\n                        const { onChange, ...restInput } = input;\n\n                        const wordCount = meta.data ? meta.data.validationResult : 0;\n                        const fillPercentage = wordCount * 100 / RECOVERY_WORD_NUMBER;\n\n                        return (\n                            <Fragment>\n                                <TextareaAutosize\n                                    { ...restInput }\n                                    onInput={ onChange }\n                                    type=\"text\"\n                                    onPaste={ this.handleInputPaste }\n                                    onKeyDown={ this.handleInputKeyDown }\n                                    placeholder=\"Enter words separted by a space or a comma\" />\n                                <div className={ styles.animatedBorder } style={ { width: `${fillPercentage}%` } } />\n                                <FeedbackMessage className={ styles.progressDisplay } iconPosition=\"right\">{ wordCount }/{ RECOVERY_WORD_NUMBER }</FeedbackMessage>\n                            </Fragment>\n                        );\n                    }}\n                </Field>\n            </div>\n        );\n    }\n\n    fireInputEvent(element) {\n        const evt = new CustomEvent('input', { bubbles: true });\n\n        element.dispatchEvent(evt);\n    }\n\n    splitRecoveryIntoArray(content) {\n        content = content ? content : '';\n\n        return content.toLowerCase()\n        .split(/[ ,;]+/g)\n        .filter((elem) => elem !== '');\n    }\n\n    calculateWordCount(content) {\n        const wordList = this.splitRecoveryIntoArray(content);\n\n        return wordList.length;\n    }\n\n    validateInput = (recovery, _, meta) => {\n        const wordCount = this.calculateWordCount(recovery);\n\n        meta.data.validationResult = wordCount;\n\n        return wordCount === RECOVERY_WORD_NUMBER ? undefined : 'Not enough words';\n    };\n\n    handleInputKeyDown = (event) => {\n        const key = event.key;\n        const input = event.target;\n\n        const selectionStart = input.selectionStart;\n        const isSeparatorKey = key === ' ' || key === ',' || key === ';';\n        const canAddSpace = (input.value[selectionStart - 1] !== ' ');\n\n        // Simplify these two ifs\n\n        if (((!event.target.value || this.calculateWordCount(event.target.value) === 12 || !canAddSpace) && isSeparatorKey) ||\n            key === 'Enter') {\n            event.preventDefault();\n\n            return;\n        }\n\n        if (isSeparatorKey) {\n            event.preventDefault();\n\n            input.setRangeText(' ');\n            input.selectionStart = input.selectionEnd = selectionStart + 1;\n\n            this.fireInputEvent(input);\n        }\n    };\n\n    handleInputPaste = (event) => {\n        const input = event.target;\n\n        const clipboardContent = event.clipboardData || window.clipboarddata;\n        const pastedData = clipboardContent.getData('Text');\n\n        const simulatePasteResult = `${input.value.slice(0, input.selectionStart)}${pastedData}${input.value.slice(input.selectionEnd)}`;\n\n        event.preventDefault();\n\n        const value = simulatePasteResult.toLowerCase()\n        .replace(/\\n/g, '')\n        .replace(/[ ,;]+/g, ' ')\n        .trim();\n\n        if (this.calculateWordCount(value) > RECOVERY_WORD_NUMBER) {\n            return;\n        }\n\n        input.value = value;\n        this.fireInputEvent(input);\n    };\n}\n\nRecoveryTextArea.propTypes = {\n    className: PropTypes.string,\n};\n\nexport default RecoveryTextArea;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, FeedbackMessage } from '@nomios/web-uikit';\nimport RecoveryTextArea from './RecoveryTextArea';\nimport { Form } from 'react-final-form';\nimport { ButtonPromiseState } from '../../../../shared/components/button-promise-state';\nimport { FORM_ERROR } from 'final-form';\nimport styles from './ImportManualRecovery.css';\n\nconst STEP_ANIMATION_DURATION = 1000;\n\nclass ImportManualRecovery extends Component {\n    acceptedMnemonic = undefined;\n\n    state = {\n        promise: undefined,\n    };\n\n    componentWillUnmount() {\n        clearTimeout(this.rollbackAnimationTimeout);\n    }\n\n    render() {\n        const { promise } = this.state;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>Enter Secret Recovery Key</h2>\n                <p>\n                    Please enter, in the correct order, the 12 words you were asked\n                    to save as your paper key.\n                </p>\n                <Form onSubmit={ this.handleSubmit }>\n                    {({ handleSubmit, submitError }) => (\n                        <form autoComplete=\"off\" onSubmit={ handleSubmit } className={ styles.form }>\n                            <RecoveryTextArea className={ styles.input } />\n                            <div className={ styles.advance }>\n                                { submitError &&\n                                    <FeedbackMessage className={ styles.error } type=\"error\" variant=\"large\">\n                                        { this.getErrorMessage(submitError.code) }\n                                    </FeedbackMessage>\n                                }\n                                <ButtonPromiseState\n                                    promise={ promise }\n                                    onSettle={ this.handleSettle }>\n                                    { ({ status }) => (\n                                        <Button\n                                            feedback={ status }>\n                                                Restore\n                                        </Button>\n                                    )}\n                                </ButtonPromiseState>\n                            </div>\n                        </form>\n                    )}\n                </Form>\n            </div>\n        );\n    }\n\n    getErrorMessage(errorCode) {\n        switch (errorCode) {\n        case 'INVALID_DID':\n            return 'The recovery key is not valid, make sure you\\'re using the right one.';\n        case 'PROFILE_REPLICATION_TIMEOUT':\n            return 'Operation took too long to complete, please try again.';\n        default:\n            return 'An unexpected error has occurred, please try again.';\n        }\n    }\n\n    handleSubmit = (data) => {\n        const { mnemonic } = data;\n\n        this.acceptedMnemonic = mnemonic;\n        const promise = this.props.peekIdentity({ mnemonic });\n\n        this.setState({ promise });\n\n        return promise.catch((err) => ({\n            [FORM_ERROR]: err,\n        }));\n    };\n\n    handleSettle = (state) => {\n        const { nextStepId } = this.props;\n\n        if (state.status === 'fulfilled') {\n            this.props.onNextStep(nextStepId, { profileDetails: state.value.profileDetails, mnemonic: this.acceptedMnemonic });\n        }\n\n        this.rollbackAnimationTimeout = setTimeout(() => this.setState({ promise: undefined }), STEP_ANIMATION_DURATION);\n    };\n}\n\nImportManualRecovery.propTypes = {\n    nextStepId: PropTypes.string.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n    peekIdentity: PropTypes.func.isRequired,\n};\n\nexport default ImportManualRecovery;\n","import ImportManualRecovery from './ImportManualRecovery';\n\nexport default ImportManualRecovery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from '@nomios/web-uikit';\nimport { IpfsAvatar } from '../../../../shared/components/ipfs';\nimport styles from './ImportConfirmIdentity.css';\n\nclass ImportConfirmIdentity extends Component {\n    render() {\n        const { identityData } = this.props;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>1. Your Identity Details</h2>\n                <p>\n                    Confirm the ID that you&apos;re importing for this device.\n                </p>\n                <div className={ styles.identityWrapper }>\n                    <IpfsAvatar name={ identityData.name } image={ identityData.image } />\n                    <div className={ styles.identityName }>\n                        <div className={ styles.title }>Identity Name</div>\n                        <div className={ styles.text }>{ identityData.name }</div>\n                    </div>\n                </div>\n                <div className={ styles.advance }>\n                    <Button onClick={ this.handleSecondaryStep } variant=\"secondary\">Oops, import other</Button>\n                    <Button onClick={ this.handleNextStep } className={ styles.primaryButton }>Continue</Button>\n                </div>\n            </div>\n        );\n    }\n\n    handleNextStep = () => {\n        const { nextStepId } = this.props;\n\n        this.props.onNextStep(nextStepId);\n    };\n\n    handleSecondaryStep = () => {\n        const { previousStepId } = this.props;\n\n        this.props.onNextStep(previousStepId);\n    };\n}\n\nImportConfirmIdentity.propTypes = {\n    nextStepId: PropTypes.string.isRequired,\n    previousStepId: PropTypes.string.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n    identityData: PropTypes.shape({ name: PropTypes.string, image: PropTypes.string }),\n};\n\nImportConfirmIdentity.defaultProps = {\n    identityData: { name: 'Unknown Identity' },\n};\n\nexport default ImportConfirmIdentity;\n","import ImportConfirmIdentity from './ImportConfirmIdentity';\n\nexport default ImportConfirmIdentity;\n","import React from 'react';\nimport { SetupDeviceStep } from '../../common-steps';\n\nconst stepData = {\n    title: '2. Your Device Details',\n    description: 'You will be importing this identity to this device.',\n    buttonText: 'Continue',\n};\n\nconst IdentityDevice = (props) => <SetupDeviceStep { ...props } stepData={ stepData } />;\n\nexport default IdentityDevice;\n","import IdentityDevice from './IdentityDevice';\n\nexport default IdentityDevice;\n","import React from 'react';\n\nimport FeedbackStep from '../../common-steps/feedback-step';\n\nconst stepData = {\n    loadingText: 'Please wait while we import your identity...',\n    success: {\n        title: 'Welcome! Your identity was imported sucessfully, against all odds.',\n        message: 'Your ID is ready and secure, you\\'ll be redirected to <Nomios> homepage, please wait, thank you for your patience.',\n    },\n    error: {\n        title: 'Oops...',\n        message: 'Looks like something went wrong while importing your identity.',\n    },\n};\n\nconst ImportFeedback = (props) => <FeedbackStep { ...props } stepData={ stepData } />;\n\nexport default ImportFeedback;\n","import ImportFeedback from './ImportFeedback';\n\nexport default ImportFeedback;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport PdfBox from '../../../../shared/components/pdf-box';\nimport PdfActionItem from '../../../../shared/components/pdf-box/pdf-action-item';\nimport { TextButton, Button, EditIcon, UploadIcon } from '@nomios/web-uikit';\nimport styles from './AutomaticRecovery.css';\n\nclass AutomaticRecovery extends Component {\n    render() {\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.heading }>Import your Identity</h2>\n                <p>\n                    It&apos;s important to save your recovery key in a safe place to backup your identity.\n                </p>\n                <div className={ styles.import }>\n                    <PdfBox title=\"Import using PDF file\" description=\"Upload PDF with your recovery key.\">\n                        <PdfActionItem\n                            onClick={ this.handleFileSelection }\n                            icon={ <UploadIcon className={ styles.icon } /> }>\n                            Browse or drag files\n                        </PdfActionItem>\n                    </PdfBox>\n                </div>\n                <div className={ styles.advance }>\n                    <TextButton\n                        variant=\"small\"\n                        onClick={ this.handleSecondaryStep }\n                        iconPosition=\"left\"\n                        icon={ <EditIcon /> }>\n                        Or do it manually\n                    </TextButton>\n                    <Button onClick={ this.handleNextStep } disabled className={ styles.primaryButton }>Continue</Button>\n                </div>\n            </div>\n        );\n    }\n\n    handleNextStep = () => {\n        const { nextStepId } = this.props;\n\n        this.props.onNextStep(nextStepId);\n    };\n\n    handleSecondaryStep = () => {\n        const { secondaryStepId } = this.props;\n\n        this.props.onNextStep(secondaryStepId);\n    };\n\n    handleFileSelection = () => {\n        alert('Feature not yet implemented');\n    };\n}\n\nAutomaticRecovery.propTypes = {\n    nextStepId: PropTypes.string.isRequired,\n    secondaryStepId: PropTypes.string.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n};\n\nexport default AutomaticRecovery;\n","import AutomaticRecovery from './AutomaticRecovery';\n\nexport default AutomaticRecovery;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport { PromiseState } from 'react-promiseful';\nimport { readAsArrayBuffer } from 'promise-file-reader';\nimport { withRouter } from 'react-router-dom';\nimport { FlowModal, FlowModalStep, Button, TextButton, withModalGlobal } from '@nomios/web-uikit';\nimport GenericStep from './generic-step';\nimport BackupIdentity from '../backup-identity';\nimport { IdentityInfo, IdentityDevice as CreateIdentityDevice, Feedback } from './create-identity-steps';\nimport {\n    ImportManualRecovery,\n    ImportConfirmIdentity,\n    IdentityDevice as ImportIdentityDevice,\n    ImportFeedback,\n    AutomaticRecovery,\n} from './import-identity-steps';\n\nconst initialState = {\n    currentStepId: 'generic',\n    currentFlow: undefined,\n    promise: undefined,\n    data: {},\n};\n\nclass NewIdentityFlow extends Component {\n    state = initialState;\n\n    goToBackupFlow = false;\n    createdIdentityId = undefined;\n    importedIdentityId = undefined;\n\n    render() {\n        const { currentStepId } = this.state;\n\n        return (\n            <FlowModal\n                { ...this.props }\n                variant=\"advanced\"\n                step={ currentStepId }\n                onExited={ this.handleExited }>\n                <FlowModalStep id=\"generic\">\n                    <GenericStep onNextStep={ this.handleChooseFlow } />\n                </FlowModalStep>\n                { this.renderFlowSteps() }\n            </FlowModal>\n        );\n    }\n\n    renderFlowSteps() {\n        const { currentFlow } = this.state;\n\n        switch (currentFlow) {\n        case 'create':\n            return this.renderCreateSteps();\n        case 'import':\n            return this.renderImportSteps();\n\n        default: return null;\n        }\n    }\n\n    renderCreateSteps() {\n        const { promise } = this.state;\n\n        const identityFirstName =\n            this.state.data['create-identity-info'] &&\n            this.state.data['create-identity-info'].name &&\n            this.state.data['create-identity-info'].name.split(' ')[0];\n\n        return (\n            <Fragment>\n                <FlowModalStep id=\"create-identity-info\">\n                    <IdentityInfo\n                        nextStepId=\"create-identity-device\"\n                        onNextStep={ this.handleNextStep } />\n                </FlowModalStep>\n                <FlowModalStep id=\"create-identity-device\">\n                    <CreateIdentityDevice\n                        nextStepId=\"create-identity-feedback\"\n                        onNextStep={ this.handleNextStep }\n                        identityFirstName={ identityFirstName } />\n                </FlowModalStep>\n                <FlowModalStep id=\"create-identity-feedback\">\n                    <PromiseState onSettle={ this.handleNewIdentitySettle } promise={ promise }>\n                        { ({ status }) => (\n                            <Feedback\n                                status={ status }\n                                successActions={ this.renderCreateFeedbackSuccessActions() }\n                                errorActions={ this.renderCreateFeedbackErrorActions() } />\n                        ) }\n                    </PromiseState>\n                </FlowModalStep>\n            </Fragment>\n        );\n    }\n\n    renderImportSteps() {\n        const { promise } = this.state;\n        const identityFirstName =\n            this.state.data['import-manual-recovery'] &&\n            this.state.data['import-manual-recovery'].profileDetails &&\n            this.state.data['import-manual-recovery'].profileDetails.name &&\n            this.state.data['import-manual-recovery'].profileDetails.name.split(' ')[0];\n\n        const profileDetails = this.state.data['import-manual-recovery'] &&\n            this.state.data['import-manual-recovery'].profileDetails;\n\n        return (\n            <Fragment>\n                <FlowModalStep id=\"import-automatic-recovery\">\n                    <AutomaticRecovery\n                        nextStepId=\"import-identity-confirm\"\n                        onNextStep={ this.handleNextStep }\n                        secondaryStepId=\"import-manual-recovery\" />\n                </FlowModalStep>\n                <FlowModalStep id=\"import-manual-recovery\">\n                    <ImportManualRecovery\n                        nextStepId=\"import-identity-confirm\"\n                        onNextStep={ this.handleNextStep }\n                        peekIdentity={ this.props.peekIdentity } />\n                </FlowModalStep>\n                <FlowModalStep id=\"import-identity-confirm\">\n                    <ImportConfirmIdentity\n                        nextStepId=\"import-identity-device\"\n                        previousStepId=\"import-manual-recovery\"\n                        identityData={ profileDetails }\n                        onNextStep={ this.handleNextStep } />\n                </FlowModalStep>\n                <FlowModalStep id=\"import-identity-device\">\n                    <ImportIdentityDevice\n                        nextStepId=\"import-identity-feedback\"\n                        onNextStep={ this.handleNextStep }\n                        identityFirstName={ identityFirstName } />\n                </FlowModalStep>\n                <FlowModalStep id=\"import-identity-feedback\">\n                    <PromiseState onSettle={ this.handleNewIdentitySettle } promise={ promise }>\n                        { ({ status }) => (\n                            <ImportFeedback\n                                status={ status }\n                                successActions={ this.renderImportFeedbackSuccessActions() }\n                                errorActions={ this.renderImportFeedbackErrorActions() } />\n                        ) }\n                    </PromiseState>\n                </FlowModalStep>\n            </Fragment>\n        );\n    }\n\n    renderCreateFeedbackSuccessActions() {\n        return (\n            <Fragment>\n                <Button variant=\"primary\" onClick={ this.handleGoToBackupFlow }>Backup my identity</Button>\n                <TextButton onClick={ this.props.onRequestClose }>Skip, for now</TextButton>\n            </Fragment>\n        );\n    }\n\n    renderCreateFeedbackErrorActions() {\n        return (\n            <Fragment>\n                <Button variant=\"primary\" onClick={ this.handleRetryCreateClick }>Retry</Button>\n                <TextButton onClick={ this.props.onRequestClose }>Skip this step</TextButton>\n            </Fragment>\n        );\n    }\n\n    renderImportFeedbackSuccessActions() {\n        return (\n            <Fragment>\n                <Button variant=\"primary\" onClick={ this.props.onRequestClose }>Go to Identity page</Button>\n            </Fragment>\n        );\n    }\n\n    renderImportFeedbackErrorActions() {\n        return (\n            <Fragment>\n                <Button variant=\"primary\" onClick={ this.handleRetryImport }>Retry</Button>\n                <TextButton onClick={ this.props.onRequestClose }>Close</TextButton>\n            </Fragment>\n        );\n    }\n\n    async createIdentity(data) {\n        const { createIdentity } = this.props;\n\n        const identityInfo = data['create-identity-info'];\n        const deviceInfo = data['create-identity-device'];\n\n        const profileDetails = {\n            '@context': 'https://schema.org',\n            '@type': identityInfo.type,\n            name: identityInfo.name,\n        };\n\n        // Read image from File object to an ArrayBuffer\n        if (identityInfo.image) {\n            profileDetails.image = {\n                type: identityInfo.image.type,\n                data: await readAsArrayBuffer(identityInfo.image),\n            };\n        }\n\n        const identity = await createIdentity({\n            profileDetails,\n            deviceInfo,\n        });\n\n        this.createdIdentityId = identity.getId();\n        this.importedIdentityId = undefined;\n\n        return identity;\n    }\n\n    async importIdentity(data) {\n        const { importIdentity } = this.props;\n\n        const mnemonic = this.state.data['import-manual-recovery'].mnemonic;\n        const deviceInfo = data['import-identity-device'];\n\n        const identity = await importIdentity({\n            mnemonic,\n            deviceInfo,\n        });\n\n        this.importedIdentityId = identity.getId();\n        this.createdIdentityId = undefined;\n\n        return identity;\n    }\n\n    createFlowPromise = (currentStepId, data) => {\n        const { currentFlow } = this.state;\n        const isLastCreateStep = currentFlow === 'create' && currentStepId === 'create-identity-feedback';\n\n        if (isLastCreateStep) {\n            return this.createIdentity(data);\n        }\n\n        const isLastImportStep = currentFlow === 'import' && currentStepId === 'import-identity-feedback';\n\n        if (isLastImportStep) {\n            return this.importIdentity(data);\n        }\n    };\n\n    handleChooseFlow = (flow) => {\n        const createIdentityFirstStepId = flow === 'create' ? 'create-identity-info' : 'import-automatic-recovery';\n\n        this.setState({ currentFlow: flow, currentStepId: createIdentityFirstStepId });\n    };\n\n    handleNextStep = (nextStepId, currentStepData) => {\n        this.setState((prevState) => {\n            const data = { ...prevState.data, [prevState.currentStepId]: currentStepData };\n            const currentStepId = nextStepId;\n            const promise = this.createFlowPromise(currentStepId, data);\n\n            return {\n                currentStepId,\n                data,\n                promise,\n            };\n        });\n    };\n\n    handleRetryCreateClick = () => {\n        this.setState((state) => ({\n            promise: this.createIdentity(state.data),\n        }));\n    };\n\n    handleRetryImportClick = () => {\n        this.setState((state) => ({\n            promise: this.importIdentity(state.data),\n        }));\n    };\n\n    handleGoToBackupFlow = () => {\n        this.goToBackupFlow = true;\n        this.props.onRequestClose && this.props.onRequestClose();\n    };\n\n    handleExited = () => {\n        if (this.goToBackupFlow) {\n            this.props.globalModal.openModal(<BackupIdentity id={ this.createdIdentityId } />);\n        }\n\n        this.setState(initialState);\n        this.goToBackupFlow = false;\n        this.createdIdentityId = undefined;\n        this.importedIdentityId = undefined;\n        this.props.onExited && this.props.onExited();\n    };\n\n    handleNewIdentitySettle = ({ status }) => {\n        if (status === 'fulfilled') {\n            this.props.history.push(`/identity/${this.createdIdentityId || this.importedIdentityId}`);\n        }\n    };\n}\n\nNewIdentityFlow.propTypes = {\n    createIdentity: PropTypes.func.isRequired,\n    importIdentity: PropTypes.func.isRequired,\n    peekIdentity: PropTypes.func.isRequired,\n    globalModal: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    onRequestClose: PropTypes.func,\n    onExited: PropTypes.func,\n};\n\nconst WrappedNewIdentityFlow = withModalGlobal(withRouter(NewIdentityFlow));\n\nexport default connectIdmWallet((idmWallet) => {\n    const createIdentity = (params) => idmWallet.identities.create('ipid', params);\n    const peekIdentity = (params) => idmWallet.identities.peek('ipid', params);\n    const importIdentity = (params) => idmWallet.identities.import('ipid', params);\n\n    return () => ({\n        createIdentity,\n        peekIdentity,\n        importIdentity,\n    });\n})(WrappedNewIdentityFlow);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { InView } from 'react-intersection-observer';\nimport SimpleBar from 'simplebar-react';\nimport 'simplebar/dist/simplebar.min.css';\nimport styles from './Scrollbar.css';\n\nclass Sidebar extends Component {\n    state = {\n        topEdgeVisible: true,\n        bottomEdgeVisible: true,\n    };\n\n    render() {\n        const { children, in: in_ } = this.props;\n        const { topEdgeVisible, bottomEdgeVisible } = this.state;\n\n        const finalClassName = classNames(\n            styles.scrollbar,\n            in_ && styles.in,\n            !topEdgeVisible && styles.showTopEdge,\n            !bottomEdgeVisible && styles.showBottomEdge,\n        );\n\n        return (\n            <SimpleBar className={ finalClassName }>\n                <InView as=\"div\" onChange={ this.handleTopEdgeChange } className={ styles.topEdgeDetector } />\n                { children }\n                <InView as=\"div\" onChange={ this.handleBottomEdgeChange } className={ styles.bottomEdgeDetector } />\n            </SimpleBar>\n        );\n    }\n\n    handleTopEdgeChange = (inView) => this.setState({ topEdgeVisible: inView });\n\n    handleBottomEdgeChange = (inView) => this.setState({ bottomEdgeVisible: inView });\n}\n\nSidebar.propTypes = {\n    in: PropTypes.bool,\n    className: PropTypes.string,\n    children: PropTypes.node,\n};\n\nexport default Sidebar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './AddIdentityItem.css';\n\nconst AddIdentityItem = ({ in: in_, staggerDelay, className, ...rest }) => (\n    <li { ...rest } className={ classNames(styles.addIdentityItem, in_ && styles.in, className) }>\n        <div className={ styles.addCircle }>\n            <div className={ styles.add } />\n            <div className={ styles.circle }>\n                <span><em /></span>\n                <span><em /></span>\n            </div>\n        </div>\n        <div\n            style={ in_ && staggerDelay ? { transitionDelay: `${staggerDelay}ms` } : undefined }\n            className={ styles.name }>\n            <span className={ styles.text }>Add Identity</span>\n        </div>\n    </li>\n);\n\nAddIdentityItem.propTypes = {\n    in: PropTypes.bool,\n    staggerDelay: PropTypes.number,\n    className: PropTypes.string,\n};\n\nexport default AddIdentityItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport { IpfsAvatar } from '../../../shared/components/ipfs';\nimport styles from './IdentityItem.css';\n\nconst IdentityItem = ({ id, details, in: in_, staggerDelay, className, ...rest }) => (\n    <li { ...rest } className={ classNames(styles.identityItem, in_ && styles.in, className) }>\n        <NavLink\n            to={ `/identity/${id}` }\n            activeClassName={ styles.active }>\n            <IpfsAvatar\n                image={ details.image }\n                name={ details.name }\n                className={ styles.avatar } />\n            <div\n                style={ in_ && staggerDelay ? { transitionDelay: `${staggerDelay}ms` } : undefined }\n                className={ styles.name }>\n                <span className={ styles.text }>{ details.name }</span>\n            </div>\n        </NavLink>\n    </li>\n);\n\nIdentityItem.propTypes = {\n    id: PropTypes.string.isRequired,\n    details: PropTypes.object.isRequired,\n    in: PropTypes.bool,\n    staggerDelay: PropTypes.number,\n    className: PropTypes.string,\n};\n\nexport default IdentityItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './ActionItem.css';\n\nconst ActionItem = ({ name, icon: Icon, in: in_, staggerDelay, className, ...rest }) => (\n    <li { ...rest } className={ classNames(styles.actionItem, in_ && styles.in, className) }>\n        <Icon className={ styles.icon } />\n        <div\n            style={ in_ && staggerDelay ? { transitionDelay: `${staggerDelay}ms` } : undefined }\n            className={ styles.name }>\n            <span className={ styles.text }>{ name }</span>\n        </div>\n    </li>\n);\n\nActionItem.propTypes = {\n    name: PropTypes.string.isRequired,\n    icon: PropTypes.elementType.isRequired,\n    in: PropTypes.bool,\n    staggerDelay: PropTypes.number,\n    className: PropTypes.string,\n};\n\nexport default ActionItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Logo } from '@nomios/web-uikit';\nimport styles from './LogoItem.css';\n\nconst LogoItem = ({ in: in_, staggerDelay, className, ...rest }) => (\n    <Link { ...rest } to=\"/\" className={ classNames(styles.logoItem, in_ && styles.in, className) }>\n        <Logo variant=\"symbol\" className={ styles.symbol } />\n        <Logo\n            variant=\"logotype\"\n            style={ in_ && staggerDelay ? { transitionDelay: `${staggerDelay}ms` } : undefined }\n            className={ styles.logotype } />\n    </Link>\n);\n\nLogoItem.propTypes = {\n    in: PropTypes.bool,\n    staggerDelay: PropTypes.number,\n    className: PropTypes.string,\n};\n\nexport default LogoItem;\n","import React, { PureComponent, createRef } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport { SettingsIcon, BellIcon, ModalTrigger } from '@nomios/web-uikit';\nimport NewIdentityFlow from '../../modals/new-identity-flow';\nimport Scrollbar from './scrollbar';\nimport AddIdentityItem from './add-identity-item';\nimport IdentityItem from './identity-item';\nimport ActionItem from './action-item';\nimport LogoItem from './logo-item';\nimport styles from './Sidebar.css';\n\nconst OPEN_DELAY_DURATION = 200;\nconst OPEN_TRANSITION_DURATION = 300;\nconst OPEN_TRANSITION_CLASSNAMES = { enter: styles.open, enterDone: styles.open, exit: styles.close };\nconst STAGGER_FIXED_TRANSITION_DELAY = 50;\nconst STAGGER_TRANSITION_DELAY = 30;\n\nclass Sidebar extends PureComponent {\n    enterTimeout = undefined;\n    addIdentityModalRef = createRef();\n\n    state = {\n        open: false,\n    };\n\n    componentWillUnmount() {\n        clearTimeout(this.enterTimeout);\n    }\n\n    render() {\n        const { open } = this.state;\n        const { identities, className } = this.props;\n        const identitiesCount = !identities ? 0 : identities.length;\n\n        return (\n            <CSSTransition in={ open } classNames={ OPEN_TRANSITION_CLASSNAMES } timeout={ OPEN_TRANSITION_DURATION }>\n                <div\n                    className={ classNames(styles.sidebar, className) }\n                    onMouseOver={ this.handleMouseOver }\n                    onMouseLeave={ this.handleMouseLeave }>\n                    <div className={ styles.bg } />\n\n                    <div className={ styles.wrapper }>\n                        <div className={ styles.top }>\n                            <LogoItem\n                                in={ open }\n                                staggerDelay={ STAGGER_FIXED_TRANSITION_DELAY }\n                                onClick={ this.handleLogoItemClick } />\n                        </div>\n\n                        <div className={ styles.middle }>\n                            { identities && (\n                                <Scrollbar in={ open }>\n                                    <ul>\n                                        <ModalTrigger\n                                            modal={ <NewIdentityFlow ref={ this.addIdentityModalRef } /> }\n                                            onChange={ this.handleModalTriggerChange }>\n                                            <AddIdentityItem\n                                                in={ open }\n                                                staggerDelay={ STAGGER_TRANSITION_DELAY + STAGGER_FIXED_TRANSITION_DELAY } />\n                                        </ModalTrigger>\n\n                                        { identities.map((identity, index) => (\n                                            <IdentityItem\n                                                key={ identity.id }\n                                                id={ identity.id }\n                                                details={ identity.details }\n                                                in={ open }\n                                                staggerDelay={ ((index + 2) * STAGGER_TRANSITION_DELAY) + STAGGER_FIXED_TRANSITION_DELAY }\n                                                onClick={ this.handleIdentityItemClick } />\n                                        )) }\n                                    </ul>\n                                </Scrollbar>\n                            ) }\n                        </div>\n\n                        <ul className={ styles.bottom }>\n                            <ActionItem\n                                name=\"Notifications\"\n                                icon={ BellIcon }\n                                in={ open }\n                                staggerDelay={ ((identitiesCount + 2) * STAGGER_TRANSITION_DELAY) + STAGGER_FIXED_TRANSITION_DELAY }\n                                onClick={ this.handleNotificationsItemClick } />\n                            <ActionItem\n                                name=\"Settings\"\n                                icon={ SettingsIcon }\n                                in={ open }\n                                staggerDelay={ ((identitiesCount + 3) * STAGGER_TRANSITION_DELAY) + STAGGER_FIXED_TRANSITION_DELAY }\n                                onClick={ this.handleSettingsItemClick } />\n                        </ul>\n                    </div>\n                </div>\n            </CSSTransition>\n        );\n    }\n\n    close() {\n        clearTimeout(this.enterTimeout);\n        this.setState({ open: false });\n    }\n\n    open() {\n        clearTimeout(this.enterTimeout);\n        this.enterTimeout = setTimeout(() => this.setState({ open: true }), OPEN_DELAY_DURATION);\n    }\n\n    // We use onMouseOver instead of onMouseEnter because the user might click the avatar/links\n    // while still in the sidebar. This way, the sidebar will open again as soon as another element\n    // is hovered\n    handleMouseOver = () => {\n        // This is needed because of event bubbling. Events inside a portal will be propagated\n        // to its ancestors in the React tree (event though those elements are not ancestors in the DOM tree).\n        // You can read more about it here: https://reactjs.org/docs/portals.html#event-bubbling-through-portals\n        const isAddIdentityModalMounted = findDOMNode(this.addIdentityModalRef.current);\n\n        !isAddIdentityModalMounted && this.open();\n    };\n\n    handleMouseLeave = () => this.close();\n\n    handleModalTriggerChange = (open) => open && this.close();\n\n    handleLogoItemClick = () => this.close();\n\n    handleIdentityItemClick = () => this.close();\n\n    handleNotificationsItemClick = () => {\n        alert('Not implemented');\n    };\n\n    handleSettingsItemClick = () => {\n        alert('Not implemented');\n    };\n}\n\nSidebar.propTypes = {\n    identities: PropTypes.array,\n    className: PropTypes.string,\n};\n\nexport default connectIdmWallet((idmWallet) => () => ({\n    identities: idmWallet.identities.list().map((identity) => ({\n        id: identity.getId(),\n        details: identity.profile.getDetails(),\n    })),\n}))(Sidebar);\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport SlideDown from 'react-slidedown';\nimport { Svg, Button, TextButton, WarningIcon } from '@nomios/web-uikit';\nimport styles from './ErrorScreen.css';\n\nconst fadingLogoSvg = import(/* webpackChunkName: \"svg-illustrations-sprite\" */ '../../media/illustrations/brand-fading-symbol.svg');\n\nclass ErrorScreen extends Component {\n    state = {\n        showingDetails: false,\n    };\n\n    render() {\n        const { className, text, error, onRetry } = this.props;\n        const { showingDetails } = this.state;\n\n        return (\n            <div className={ classNames(styles.errorScreen, className) }>\n                <div className={ styles.wrapper }>\n                    <Svg svg={ fadingLogoSvg } className={ styles.illustration } />\n\n                    <p className={ styles.body }>{text}</p>\n\n                    <div className={ styles.buttons }>\n                        <Button\n                            variant=\"secondary\"\n                            onClick={ this.handleToggleDetailsClick }\n                            className={ styles.toggleDetails }>\n                            { showingDetails ? 'Hide details' : 'Show details' }\n                        </Button>\n                        <Button variant=\"primary\"\n                            onClick={ onRetry }\n                            className={ styles.tryAgain }>\n                            Try again\n                        </Button>\n                    </div>\n\n                    <SlideDown closed={ !showingDetails } className={ styles.errorSlideDown }>\n                        <div className={ styles.errorBlock }>\n                            <p className={ styles.message }>\n                                { error.code && <Fragment>{ error.code }&nbsp;-&nbsp;</Fragment> }\n                                { error.message }\n                            </p>\n\n                            { error.stack &&\n                            <pre className={ styles.stack }>{ this.getNormalizedStack(error.stack) }</pre> }\n\n                            <TextButton\n                                variant=\"small\"\n                                icon={ <WarningIcon /> }\n                                iconPosition=\"left\"\n                                className={ styles.reportButton }\n                                onClick={ this.handleReportClick }>\n                            Report this error\n                            </TextButton>\n                        </div>\n                    </SlideDown>\n                </div>\n            </div>\n        );\n    }\n\n    getNormalizedStack(stack) {\n        return stack\n        .split('\\n')\n        .slice(1)\n        .map((line) => line.replace(/^(\\t| {4})/, ''))\n        .join('\\n');\n    }\n\n    handleToggleDetailsClick = () => {\n        this.setState((state) => ({\n            showingDetails: !state.showingDetails,\n        }));\n    };\n\n    handleReportClick = () => {\n        window.open('https://github.com/ipfs-shipyard/pm-idm/issues/new?assignees=&labels=bug&template=bug_report.md');\n    };\n}\n\nErrorScreen.propTypes = {\n    text: PropTypes.string.isRequired,\n    error: PropTypes.shape({ message: PropTypes.string.isRequired, code: PropTypes.string }).isRequired,\n    onRetry: PropTypes.func.isRequired,\n    className: PropTypes.string,\n};\n\nexport default ErrorScreen;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Error from '../../../shared/components/error-screen';\n\nconst Page500 = (props) => (\n    <Error\n        text=\"An unexpected error has occurred, please try again or report the error.\"\n        onRetry={ props.onRetry }\n        error={ props.error } />\n);\n\nPage500.propTypes = {\n    error: PropTypes.shape({ message: PropTypes.string.isRequired, code: PropTypes.string }).isRequired,\n    onRetry: PropTypes.func,\n};\n\nexport default Page500;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { Svg, Button } from '@nomios/web-uikit';\nimport styles from './Page404.css';\n\n// eslint-disable-next-line max-len\nconst fadingLogoSvg = import(/* webpackChunkName: \"svg-illustrations-sprite\" */ '../../../shared/media/illustrations/brand-fading-symbol.svg');\n\nconst Page404 = ({ history }) => {\n    const onHomepageClick = useCallback(() => history.push('/'), [history]);\n\n    return (\n        <div className={ styles.errorPage }>\n            <div className={ styles.background } />\n            <Svg svg={ fadingLogoSvg } className={ styles.illustration } />\n            <h1 className={ styles.title }>This page... has no identity.</h1>\n            <p className={ styles.body }>Sorry, we can&apos;t find what you are looking for.</p>\n            <Button variant=\"primary\" onClick={ onHomepageClick }>Go to Homepage</Button>\n        </div>\n    );\n};\n\nPage404.propTypes = {\n    history: PropTypes.object.isRequired,\n};\n\nexport default withRouter(Page404);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { Page404, Page500 } from '../../pages/errors';\n\nclass ErrorBoundary extends Component {\n    static getDerivedStateFromProps(props, state) {\n        if (props.location.pathname !== state.pathname) {\n            return {\n                error: undefined,\n                pathname: props.location.pathname,\n            };\n        }\n\n        return null;\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            error: undefined,\n            pathname: props.location.pathname,\n        };\n    }\n\n    componentDidCatch(error) {\n        this.setState({ error });\n    }\n\n    render() {\n        const { error } = this.state;\n\n        if (error) {\n            switch (error.code) {\n            case 'UNKNOWN_IDENTITY':\n                process.env.NODE_ENV === 'development' &&\n                    console.info('This error is caused by an unknown identity. ' +\n                    'It is handled correctly by the Error Boundary component.' +\n                    '\\n\\nPlease close this overlay (this will not appear in production).');\n\n                return <Page404 />;\n            default:\n                return <Page500 onRetry={ this.handleRetry } error={ error } />;\n            }\n        }\n\n        return this.props.children;\n    }\n\n    handleRetry = () => {\n        window.location.reload();\n    };\n}\n\nErrorBoundary.propTypes = {\n    location: PropTypes.object.isRequired,\n    children: PropTypes.node.isRequired,\n};\n\nexport default withRouter(ErrorBoundary);\n","import { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { throttle } from 'lodash';\n\nconst THROTTLE_TIME = 10000;\nconst EVENT_LISTENERS_OPTIONS = { capture: true, passive: true };\n\nconst ActivityDetector = ({ onDetect }) => {\n    onDetect = useMemo(() => throttle(onDetect, THROTTLE_TIME), [onDetect]);\n\n    useEffect(() => {\n        document.addEventListener('keydown', onDetect, EVENT_LISTENERS_OPTIONS);\n        document.addEventListener('mousemove', onDetect, EVENT_LISTENERS_OPTIONS);\n        document.addEventListener('touchstart', onDetect, EVENT_LISTENERS_OPTIONS);\n\n        return () => {\n            document.removeEventListener('keydown', onDetect, EVENT_LISTENERS_OPTIONS);\n            document.removeEventListener('mousemove', onDetect, EVENT_LISTENERS_OPTIONS);\n            document.removeEventListener('touchstart', onDetect, EVENT_LISTENERS_OPTIONS);\n        };\n    }, [onDetect]);\n\n    return null;\n};\n\nActivityDetector.propTypes = {\n    onDetect: PropTypes.func.isRequired,\n};\n\nexport default ActivityDetector;\n","import React, { Component, Fragment } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport scrollbarCompensate from 'scrollbar-compensate';\nimport pDelay from 'delay';\nimport Lottie from 'lottie-react-web';\nimport ReactModal from 'react-modal';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { PromiseState, getPromiseState } from 'react-promiseful';\nimport ActivityDetector from './ActivityDetector';\nimport unlockAnimationData from './unlock-animation.json';\nimport styles from './LockScreen.css';\n\nconst MINIMUM_UNLOCK_ANIMATION_DURATION = 500;\n\nconst lockScreenTimeout = {\n    appear: 300,\n    enter: 300,\n    exit: 1600,\n};\n\nconst lockScreenTransitionClassNames = {\n    appearActive: styles.enterActive,\n    appearDone: styles.enterDone,\n    enterActive: styles.enterActive,\n    enterDone: styles.enterDone,\n    exit: styles.exit,\n    exitActive: styles.exitActive,\n    exitDone: styles.exitDone,\n};\n\nconst passphraseDotsClassNames = {\n    enter: styles.enter,\n    enterActive: styles.enterActive,\n    exit: styles.exit,\n    exitActive: styles.exitActive,\n};\n\nconst unlockAnimationOptions = {\n    animationData: unlockAnimationData,\n    loop: false,\n    autoplay: false,\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    scrollbarCompensate([`.${styles.modalBodyOpen}`]);\n});\n\nclass LockScreen extends Component {\n    static getDerivedStateFromProps(props, state) {\n        return {\n            in: props.locked ? true : state.in,\n        };\n    }\n\n    passphraseInputRef = undefined;\n    focusInterval = undefined;\n    focusTimeout = undefined;\n\n    state = {\n        in: false,\n        passphrase: '',\n        promise: undefined,\n        startLogoAnimation: false,\n    };\n\n    render() {\n        const { restartIdleTimer } = this.props;\n        const { in: in_, promise, passphrase, startLogoAnimation } = this.state;\n\n        return (\n            <Fragment>\n                { restartIdleTimer ? <ActivityDetector onDetect={ restartIdleTimer } /> : null }\n                <ReactModal\n                    isOpen={ in_ }\n                    closeTimeoutMS={ lockScreenTimeout.exit }\n                    className={ styles.modal }\n                    onAfterClose={ this.handleModalClose }\n                    overlayClassName={ styles.modalOverlay }\n                    portalClassName={ styles.modalPortal }\n                    bodyOpenClassName={ styles.modalBodyOpen }>\n                    <CSSTransition classNames={ lockScreenTransitionClassNames } in={ in_ } appear timeout={ lockScreenTimeout }>\n                        <div className={ styles.lockScreen } onClick={ this.handleMouseClick }>\n                            <div className={ styles.background } />\n                            <div className={ styles.content }>\n                                <div className={ styles.logo }>\n                                    <Lottie options={ unlockAnimationOptions } isStopped={ !startLogoAnimation } />\n                                </div>\n                                <h2 className={ styles.unlockTitle }>Unlock Nomios</h2>\n                                <p className={ styles.unlockHint } onTransitionEnd={ this.handleTransitionEnd }>\n                                    Enter your passphrase to unlock Nomios and get access to all your data\n                                </p>\n\n                                <PromiseState\n                                    promise={ promise }\n                                    onSettle={ this.handlePromiseSettle }>\n                                    { ({ status, value }) => (\n                                        <Fragment>\n                                            <input\n                                                type=\"password\"\n                                                className={ styles.passphraseInput }\n                                                ref={ this.storePassphraseInputRef }\n                                                value={ passphrase }\n                                                onKeyDown={ this.handleInputKeyDown }\n                                                onChange={ this.handleInputChange }\n                                                onBlur={ this.handleInputBlur } />\n                                            { this.renderPasswordDots(status) }\n                                            <p className={ classNames(styles.errorMessage, status === 'rejected' && styles.show) }>\n                                                { status === 'rejected' && value.code === 'UNLOCK_INPUT_MISMATCH' ? 'The passphrase you entered does not match the saved passphrase. Please try again.' : null }\n                                                { status === 'rejected' && value.code !== 'UNLOCK_INPUT_MISMATCH' ? value.message : null }\n                                            </p>\n                                        </Fragment>\n                                    ) }\n                                </PromiseState>\n                            </div>\n                        </div>\n                    </CSSTransition>\n                </ReactModal>\n            </Fragment>\n        );\n    }\n\n    renderPasswordDots(status) {\n        const { passphrase } = this.state;\n\n        const passphraseLength = passphrase.length;\n        const rejected = status === 'rejected';\n        const loading = status === 'pending' || status === 'fulfilled';\n        const animationDelay = loading ? -0.1 : 0;\n\n        return (\n            <div className={ classNames(styles.passphraseDisplay, rejected && styles.error) }>\n                <TransitionGroup component={ null } appear>\n                    {\n                        Array(passphraseLength).fill(0)\n                        .map((val, i) => (\n                            <CSSTransition\n                                classNames={ passphraseDotsClassNames }\n                                key={ passphraseLength - i }\n                                timeout={ 50 }\n                                exit={ !rejected }>\n                                <div\n                                    className={ classNames(styles.passphraseDot, loading && styles.loading) }\n                                    style={ { animationDelay: `${animationDelay * i}s` } } />\n                            </CSSTransition>\n                        ))\n                    }\n                </TransitionGroup>\n                { passphraseLength === 0 && <div className={ styles.cursor } /> }\n            </div>\n        );\n    }\n\n    storePassphraseInputRef = (ref) => {\n        this.passphraseInputRef = ref;\n        clearInterval(this.focusInterval);\n        clearTimeout(this.focusTimeout);\n\n        if (ref) {\n            this.focusTimeout = setTimeout(() => {\n                this.passphraseInputRef.focus();\n                this.focusInterval = setInterval(() => this.passphraseInputRef.focus(), 250);\n            }, lockScreenTimeout.enter + 100);\n        }\n    };\n\n    submit() {\n        // Skip if there's a ongoing promise\n        if (getPromiseState(this.state.promise).status !== 'none') {\n            return;\n        }\n\n        const promise = Promise.all([\n            pDelay(MINIMUM_UNLOCK_ANIMATION_DURATION),\n            this.props.unlock('passphrase', this.state.passphrase),\n        ]);\n\n        this.setState({ promise });\n    }\n\n    handleModalClose = () => {\n        this.setState({\n            passphrase: '',\n            promise: undefined,\n            startLogoAnimation: false,\n        });\n    };\n\n    handlePromiseSettle = ({ status }) => {\n        if (status === 'fulfilled') {\n            this.setState({\n                in: false,\n            });\n        }\n    };\n\n    handleInputChange = (event) => {\n        const value = event.target.value;\n\n        this.setState(({ promise }) => {\n            const { status } = getPromiseState(promise);\n\n            if (status === 'pending' || status === 'fulfilled') {\n                return;\n            }\n\n            if (status === 'rejected') {\n                return {\n                    passphrase: value.substring(value.length - 1),\n                    promise: undefined,\n                };\n            }\n\n            return {\n                passphrase: value,\n                promise: undefined,\n            };\n        });\n    };\n\n    handleInputKeyDown = (event) => {\n        switch (event.key) {\n        // Disallow carret change & selection\n        case 'ArrowLeft':\n        case 'ArrowRight':\n        case 'ArrowUp':\n        case 'ArrowDown':\n        case 'Home':\n        case 'Tab':\n            event.preventDefault();\n            break;\n        // Disallow selection of all text\n        case 'a':\n            if (event.metaKey || event.ctrlKey) {\n                event.preventDefault();\n            }\n            break;\n        // Submit!\n        case 'Enter':\n            event.preventDefault();\n            this.submit();\n            break;\n        default:\n        }\n    };\n\n    handleInputBlur = () => this.passphraseInputRef && this.passphraseInputRef.focus();\n\n    handleMouseClick = () => this.passphraseInputRef && this.passphraseInputRef.focus();\n\n    handleTransitionEnd = () => this.setState({ startLogoAnimation: true });\n}\n\nLockScreen.propTypes = {\n    locked: PropTypes.bool,\n    unlock: PropTypes.func.isRequired,\n    restartIdleTimer: PropTypes.func,\n};\n\nexport default LockScreen;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport { PromiseState } from 'react-promiseful';\nimport LockScreen from '../../shared/components/lock-screen';\nimport ErrorScreen from '../../shared/components/error-screen';\n\nclass WalletEnclave extends Component {\n    state = {\n        promise: undefined,\n    };\n\n    constructor(props) {\n        super(props);\n\n        if (!props.alreadyLoaded) {\n            this.state.promise = props.load();\n        }\n    }\n\n    render() {\n        const { locked, unlock, restartIdleTimer, alreadyLoaded, children } = this.props;\n        const { promise } = this.state;\n\n        if (alreadyLoaded) {\n            return (\n                <Fragment>\n                    <LockScreen locked={ locked } unlock={ unlock } restartIdleTimer={ restartIdleTimer } />\n                    { children }\n                </Fragment>\n            );\n        }\n\n        return (\n            <Fragment>\n                <LockScreen locked={ locked } unlock={ unlock } restartIdleTimer={ restartIdleTimer } />\n                <PromiseState promise={ promise }>\n                    { ({ status, value }) => {\n                        switch (status) {\n                        case 'rejected': return this.renderError(value);\n                        case 'fulfilled': return children;\n                        default: return null;\n                        }\n                    } }\n                </PromiseState>\n            </Fragment>\n        );\n    }\n\n    renderError(error) {\n        return (\n            <ErrorScreen\n                text=\"We're having a hard time loading the wallet.\"\n                error={ error }\n                onRetry={ this.handleRetry } />\n        );\n    }\n\n    handleRetry = () => {\n        window.location.reload();\n    };\n}\n\nWalletEnclave.propTypes = {\n    locked: PropTypes.bool.isRequired,\n    unlock: PropTypes.func.isRequired,\n    restartIdleTimer: PropTypes.func.isRequired,\n    alreadyLoaded: PropTypes.bool,\n    load: PropTypes.func.isRequired,\n    children: PropTypes.element,\n};\n\nWalletEnclave.defaultProps = {\n    children: null,\n    alreadyLoaded: true,\n};\n\nexport default connectIdmWallet((idmWallet) => {\n    const alreadyLoaded = idmWallet.identities.isLoaded();\n    const load = () => idmWallet.identities.load();\n    const restartIdleTimer = () => idmWallet.locker.idleTimer.restart();\n    const unlock = async (type, input) => {\n        await idmWallet.locker.getLock(type).unlock(input);\n        await idmWallet.identities.load().catch(() => {}); // Error is being displayed underneath\n    };\n\n    return () => ({\n        locked: idmWallet.locker.isLocked(),\n        unlock,\n        restartIdleTimer,\n        alreadyLoaded,\n        load,\n    });\n})(WalletEnclave);\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { Form, Field } from 'react-final-form';\nimport { FORM_ERROR } from 'final-form';\nimport memoize from 'memoize-one';\nimport pDebounce from 'p-debounce';\nimport { TextInput, Button, FeedbackMessage, WarningIcon, InfoIcon } from '@nomios/web-uikit';\nimport { ButtonPromiseState } from '../../../../shared/components/button-promise-state';\nimport { notEmpty } from '../../../../shared/form-validators';\nimport styles from './SetPassphrase.css';\n\nconst createValidatePassphrase = (validatePassphrase) => {\n    const debouncedValidatePassphrase = pDebounce(validatePassphrase, 200);\n\n    return async (passphrase, _, meta) => {\n        try {\n            meta.data.validationResult = await (passphrase ? debouncedValidatePassphrase(passphrase) : validatePassphrase(''));\n        } catch (err) {\n            meta.data.validationResult = err;\n\n            return err.message;\n        } finally {\n            meta.data.validatedOnceNonEmpty = meta.data.validatedOnceNonEmpty || !!passphrase;\n        }\n    };\n};\n\nconst validatePassphraseConfirmation = (passphraseConfirmation, allValues) => {\n    const error = notEmpty(passphraseConfirmation);\n\n    if (error) {\n        return error;\n    }\n\n    if (passphraseConfirmation !== allValues.passphrase) {\n        return 'Passphrases do not match';\n    }\n};\n\nconst getPassphraseFeedback = (validationResult) => {\n    const { score: strength, warning, suggestions } = validationResult;\n\n    const normalizedStrength = Math.ceil(5 * strength);\n    let feedback;\n\n    switch (normalizedStrength) {\n    case 0:\n        feedback = { message: 'Required', type: 'error' };\n        break;\n    case 1:\n        feedback = { message: 'Poor', type: 'info' };\n        break;\n    case 2:\n        feedback = { message: 'Weak', type: 'info' };\n        break;\n    case 3:\n        feedback = { message: 'Fair' };\n        break;\n    case 4:\n        feedback = { message: 'Strong' };\n        break;\n    default:\n        feedback = null;\n    }\n\n    if (!feedback) {\n        return null;\n    }\n\n    if (!suggestions.length && !warning) {\n        return feedback;\n    }\n\n    feedback.tooltip = (\n        <div className={ styles.feedbackTooltip }>\n            <div className={ styles.suggestions }>\n                { warning &&\n                    <div><WarningIcon className={ styles.warning } /> { warning.message }</div> }\n                { suggestions.map((suggestion) =>\n                    <div key={ suggestion.code }><InfoIcon /> { suggestion.message }</div>) }\n            </div>\n        </div>\n    );\n\n    return feedback;\n};\n\nclass SetPassphrase extends Component {\n    createValidatePassphrase = memoize(createValidatePassphrase);\n    getPassphraseFeedback = memoize(getPassphraseFeedback);\n\n    state = {\n        promise: undefined,\n    };\n\n    render() {\n        const { promise } = this.state;\n        const { validatePassphrase } = this.props;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.title }>Setup your locker.</h2>\n                <p>Please define a passphrase which will be used to encrypt all the data stored in this app.</p>\n\n                <Form onSubmit={ this.handleSubmit }>\n                    { ({ handleSubmit, submitError }) => (\n                        <form autoComplete=\"off\" onSubmit={ handleSubmit }>\n                            <Field name=\"passphrase\" validate={ this.createValidatePassphrase(validatePassphrase) }>\n                                { ({ input, meta }) => {\n                                    const showFeedback = (meta.modified && meta.data.validatedOnceNonEmpty) || meta.touched;\n\n                                    const lineStrength = showFeedback && meta.data.validationResult ? meta.data.validationResult.score : undefined;\n                                    const feedback = showFeedback && meta.data.validationResult ? this.getPassphraseFeedback(meta.data.validationResult) : undefined;\n\n                                    return (\n                                        <TextInput\n                                            { ...input }\n                                            type=\"password\"\n                                            label=\"Enter Passphrase\"\n                                            placeholder=\"Enter your passphrase\"\n                                            helperText=\"You may use any characters, including spaces\"\n                                            lineType=\"dashed\"\n                                            lineStrength={ lineStrength }\n                                            feedback={ feedback }\n                                            autoFocus\n                                            className={ styles.passphraseInput } />\n                                    );\n                                } }\n                            </Field>\n\n                            <Field name=\"confirmPassphrase\" validate={ validatePassphraseConfirmation }>\n                                { ({ input, meta }) => {\n                                    const lineStrength = meta.touched ? Number(!meta.error) : undefined;\n                                    const feedback = meta.touched && meta.error ? { message: meta.error, type: 'error' } : undefined;\n\n                                    return (\n                                        <TextInput\n                                            { ...input }\n                                            type=\"password\"\n                                            label=\"Confirm Passphrase\"\n                                            placeholder=\"Enter passphrase confirmation\"\n                                            lineStrength={ lineStrength }\n                                            feedback={ feedback }\n                                            className={ styles.passphraseInput } />\n                                    );\n                                } }\n                            </Field>\n\n                            <div className={ styles.submitWrapper }>\n                                <FeedbackMessage\n                                    variant=\"large\"\n                                    type=\"error\"\n                                    className={ classNames(styles.saveError, submitError && styles.show) }>\n                                    There was a problem saving your passphrase. Please try again later.\n                                </FeedbackMessage>\n\n                                <div className={ styles.continueButton }>\n                                    <ButtonPromiseState promise={ promise } onSettle={ this.handleSettle }>\n                                        { ({ status }) => (\n                                            <Button feedback={ status }>Continue</Button>\n                                        ) }\n                                    </ButtonPromiseState>\n                                </div>\n                            </div>\n                        </form>\n                    ) }\n                </Form>\n            </div>\n        );\n    }\n\n    handleSubmit = (data) => {\n        const promise = this.props.enablePassphrase(data.passphrase);\n\n        this.setState({ promise });\n\n        return promise.catch((err) => ({\n            [FORM_ERROR]: err.message,\n        }));\n    };\n\n    handleSettle = (state) => {\n        if (state.status === 'fulfilled') {\n            this.props.onNextStep();\n        } else {\n            this.setState({ promise: undefined });\n        }\n    };\n}\n\nSetPassphrase.propTypes = {\n    onNextStep: PropTypes.func.isRequired,\n    validatePassphrase: PropTypes.func.isRequired,\n    enablePassphrase: PropTypes.func.isRequired,\n};\n\nexport default SetPassphrase;\n","import React, { Component, createRef } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { IdlePicker, Button } from '@nomios/web-uikit';\nimport PropTypes from 'prop-types';\nimport { ButtonPromiseState, getPromiseState } from '../../../../shared/components/button-promise-state';\nimport styles from './SetIdleTimer.css';\n\nclass SetIdleTimer extends Component {\n    buttonRef = createRef();\n\n    state = {\n        timeoutValue: 3,\n        promise: undefined,\n    };\n\n    componentDidMount() {\n        findDOMNode(this)\n        .querySelector('[tabindex]')\n        .focus();\n    }\n\n    render() {\n        const { timeoutValue, promise } = this.state;\n\n        return (\n            <div className={ styles.contentWrapper }>\n                <h2 className={ styles.title }>Setup expiration time.</h2>\n                <p>You may tweak the amount of time you are able to use\n                 the app before it locks again. You can go have a coffee without any worries.</p>\n                <div className={ styles.idlePicker } onKeyUp={ this.handleIdlePickerKeyUp }>\n                    <IdlePicker defaultValue={ timeoutValue } onChange={ this.handlePickerChange } />\n                </div>\n                <div className={ styles.continueButton }>\n                    <ButtonPromiseState promise={ promise } onSettle={ this.handleSettle }>\n                        { ({ status }) => (\n                            <Button ref={ this.buttonRef } onClick={ this.handleContinue } feedback={ status }>Finish</Button>\n                        ) }\n                    </ButtonPromiseState>\n                </div>\n            </div>\n        );\n    }\n\n    handlePickerChange = (value) => {\n        this.setState({ timeoutValue: value });\n    };\n\n    handleIdlePickerKeyUp = (event) => {\n        // Submit if we have the slider focused\n        if (event.key === 'Enter') {\n            findDOMNode(this.buttonRef.current).click();\n        }\n    };\n\n    handleContinue = async () => {\n        const { timeoutValue, promise: currentPromise } = this.state;\n        const { setMaxTime } = this.props;\n\n        // Protect against the user clicking the button several times while we are still saving the change\n        if (getPromiseState(currentPromise).status === 'pending') {\n            return;\n        }\n\n        const promise = setMaxTime(timeoutValue * 60 * 1000);\n\n        this.setState({ promise });\n    };\n\n    handleSettle = (state) => {\n        if (state.status === 'fulfilled') {\n            this.props.onNextStep();\n        } else {\n            this.setState({ promise: undefined });\n        }\n    };\n}\n\nSetIdleTimer.propTypes = {\n    feedback: PropTypes.oneOf(['none', 'loading', 'success', 'error']),\n    setMaxTime: PropTypes.func.isRequired,\n    onNextStep: PropTypes.func.isRequired,\n};\n\nexport default SetIdleTimer;\n","import React, { Component } from 'react';\nimport { FlowModal, FlowModalStep } from '@nomios/web-uikit';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport PropTypes from 'prop-types';\nimport SetPassphrase from './steps/set-passphrase';\nimport SetIdleTimer from './steps/set-idle-timer';\n\nclass SetupLocker extends Component {\n    state = {\n        stepId: 'passphrase',\n        data: {},\n    };\n\n    componentWillUnmount() {\n        clearTimeout(this.onCompleteTimeout);\n    }\n\n    render() {\n        const { stepId } = this.state;\n        const { enablePassphrase, validatePassphrase, setMaxTime, onComplete, ...rest } = this.props;\n\n        return (\n            <FlowModal { ...rest } variant=\"simple\" step={ stepId } showClose={ false }>\n                <FlowModalStep id=\"passphrase\">\n                    <SetPassphrase\n                        onNextStep={ this.handleProceedFromPassphrase }\n                        validatePassphrase={ validatePassphrase }\n                        enablePassphrase={ enablePassphrase } />\n                </FlowModalStep>\n                <FlowModalStep id=\"timeout\">\n                    <SetIdleTimer onNextStep={ this.handleProceedIdleTimer } setMaxTime={ setMaxTime } />\n                </FlowModalStep>\n            </FlowModal>\n        );\n    }\n\n    handleProceedFromPassphrase = () => {\n        this.setState({ stepId: 'timeout' });\n    };\n\n    handleProceedIdleTimer = () => {\n        this.props.onComplete();\n    };\n}\n\nSetupLocker.propTypes = {\n    open: PropTypes.bool,\n    enablePassphrase: PropTypes.func.isRequired,\n    validatePassphrase: PropTypes.func.isRequired,\n    setMaxTime: PropTypes.func.isRequired,\n    onComplete: PropTypes.func.isRequired,\n};\n\nexport default connectIdmWallet((idmWallet) => {\n    const enablePassphrase = (input) => idmWallet.locker.getLock('passphrase').enable(input);\n    const validatePassphrase = (input) => idmWallet.locker.getLock('passphrase').validate(input);\n    const setMaxTime = (value) => idmWallet.locker.idleTimer.setMaxTime(value);\n\n    return () => ({\n        enablePassphrase,\n        validatePassphrase,\n        setMaxTime,\n    });\n})(SetupLocker);\n","import React from 'react';\nimport { Logo } from '@nomios/web-uikit';\nimport styles from './Home.css';\n\nconst Home = () => (\n    <div className={ styles.homepage }>\n        <div className={ styles.background } />\n        <Logo variant=\"vertical\" className={ styles.logo } />\n    </div>\n);\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PageLayout.css';\n\nconst PageLayout = (props) => {\n    const { children } = props;\n\n    return (\n        <div className={ styles.layoutWrapper }>\n            <div className={ styles.layout }>\n                { children }\n            </div>\n        </div>\n    );\n};\n\nPageLayout.propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node.isRequired,\n};\n\nexport default PageLayout;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport { Button, ModalTrigger } from '@nomios/web-uikit';\nimport { ButtonPromiseState } from '../../../shared/components/button-promise-state';\nimport { IpfsAvatar } from '../../../shared/components/ipfs';\nimport NewIdentityFlow from '../../../modals/new-identity-flow';\nimport styles from './Revoked.css';\n\nclass Revoked extends Component {\n    state = {\n        promise: undefined,\n        redirectToHomepage: false,\n    };\n\n    render() {\n        const { name, image } = this.props.profileDetails;\n        const { promise, redirectToHomepage } = this.state;\n\n        if (redirectToHomepage) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n            <div className={ styles.errorPage }>\n                <div className={ styles.background } />\n                <IpfsAvatar image={ image } name={ name } className={ styles.avatar } />\n                <h1 className={ styles.title }>Access to { name } was revoked.</h1>\n                <p className={ styles.body }>\n                You&apos;ll still be able to use this identity in all your other devices, or import it again in this device.\n                </p>\n                <div className={ styles.actions }>\n                    <ModalTrigger\n                        modal={ <NewIdentityFlow /> }>\n                        <Button className={ styles.import } variant=\"secondary\">Import</Button>\n                    </ModalTrigger>\n                    <ButtonPromiseState promise={ promise } onSettle={ this.handleSettle }>\n                        { ({ status }) => (\n                            <Button\n                                feedback={ status }\n                                className={ styles.delete }\n                                variant=\"primary\"\n                                onClick={ this.handleDelete }>\n                                Delete\n                            </Button>\n                        ) }\n                    </ButtonPromiseState>\n                </div>\n            </div>\n        );\n    }\n\n    handleDelete = () => {\n        const { deleteIdentity } = this.props;\n\n        this.setState({ promise: deleteIdentity() });\n    };\n\n    handleSettle = (state) => {\n        if (state.status === 'fulfilled') {\n            this.setState({ redirectToHomepage: true });\n        } else {\n            this.setState({ promise: undefined });\n        }\n    };\n}\n\nRevoked.propTypes = {\n    id: PropTypes.string.isRequired,\n    profileDetails: PropTypes.object.isRequired,\n    deleteIdentity: PropTypes.func.isRequired,\n    onImport: PropTypes.func,\n    onDelete: PropTypes.func,\n};\n\nexport default connectIdmWallet((idmWallet) => (ownProps) => ({\n    profileDetails: idmWallet.identities.get(ownProps.id).profile.getDetails(),\n    deleteIdentity: () => idmWallet.identities.remove(ownProps.id),\n}))(Revoked);\n","import pTimeout from 'p-timeout';\nimport pify from 'pify';\n\nconst GET_GEOLOCATION_TIMEOUT = 15000;\n\nconst getLocation = async () => {\n    const nodeGeocoder = await pTimeout(\n        import(/* webpackChunkName: \"node-geocoder\" */ 'node-geocoder'),\n        GET_GEOLOCATION_TIMEOUT\n    );\n\n    const geocoder = nodeGeocoder.default({\n        provider: 'openstreetmap',\n        format: 'json',\n        zoom: 18,\n        addressdetails: 1,\n        'accept-language': 'en-US',\n    });\n\n    const position = await new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(resolve, reject);\n    });\n\n    const { latitude, longitude } = position.coords;\n\n    const response = await pTimeout(\n        pify(geocoder.reverse).call(geocoder, { lat: latitude, lon: longitude }),\n        GET_GEOLOCATION_TIMEOUT\n    );\n\n    return response.raw.address;\n};\n\nexport default getLocation;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { PromiseState, getPromiseState } from 'react-promiseful';\nimport { TextInput, LocationIcon } from '@nomios/web-uikit';\nimport getLocation from './get-location';\nimport styles from './LocationInput.css';\n\nconst FEEDBACK = {\n    message: 'Unable to find your location',\n    type: 'error',\n};\n\nclass LocationInput extends Component {\n    state = {\n        isGeolocationAvailable: undefined,\n        locationPromise: undefined,\n    };\n\n    constructor() {\n        super();\n\n        this.state.isGeolocationAvailable = !!navigator.geolocation;\n    }\n\n    render() {\n        const { isGeolocationAvailable, locationPromise } = this.state;\n        const { onLocationInferred, ...rest } = this.props;\n\n        return (\n            <div className={ styles.locationFieldContainer }>\n                { isGeolocationAvailable && <LocationIcon className={ styles.icon } onClick={ this.handleLocationClick } /> }\n                <PromiseState promise={ locationPromise } onSettle={ this.handlePromiseLocationSettle }>\n                    { ({ status }) => (\n                        <TextInput { ...this.getTextInputProps(rest, status) } />\n                    ) }\n                </PromiseState>\n            </div>\n        );\n    }\n\n    getTextInputProps(props, status) {\n        if (!this.state.isGeolocationAvailable) {\n            return props;\n        }\n\n        switch (status) {\n        case 'pending':\n            return { ...props, value: '', placeholder: 'Loading...', disabled: true };\n        case 'rejected':\n            return { ...props, feedback: FEEDBACK };\n        default:\n            return props;\n        }\n    }\n\n    handleLocationClick = () => {\n        // Skip if there's a ongoing promise\n        if (getPromiseState(this.state.locationPromise).status === 'pending') {\n            return;\n        }\n\n        this.setState({ locationPromise: getLocation() });\n    };\n\n    handlePromiseLocationSettle = ({ status, value }) => {\n        const { name } = this.props;\n\n        if (status === 'rejected') {\n            return console.warn('Geolocation error:', value.message);\n        }\n\n        const location = `${value.county}, ${value.country}`;\n\n        this.props.onLocationInferred(name, location);\n    };\n}\n\nLocationInput.propTypes = {\n    onLocationInferred: PropTypes.func.isRequired,\n    name: PropTypes.string.isRequired,\n};\n\nexport default LocationInput;\n","/* eslint-disable react/jsx-handler-names */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { omit } from 'lodash';\nimport { Form, Field } from 'react-final-form';\nimport nationalities from 'ms-nationalities';\nimport { readAsArrayBuffer } from 'promise-file-reader';\nimport { TextInput, Button, AutocompleteSelect, Radio, UserIcon } from '@nomios/web-uikit';\nimport { ButtonPromiseState } from '../../../shared/components/button-promise-state';\nimport { IpfsAvatarPicker } from '../../../shared/components/ipfs';\nimport { notEmpty } from '../../../shared/form-validators';\nimport LocationInput from './location-input';\nimport styles from './ProfileForm.css';\n\nconst PLACEHOLDER = {\n    name: 'Enter your name',\n    nationality: 'Enter your nationality',\n    location: 'Enter your location',\n};\n\nclass ProfileForm extends Component {\n    state = {\n        image: null,\n        promise: undefined,\n        profileDetails: undefined,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state.profileDetails = props.profileDetails;\n    }\n\n    render() {\n        const { promise, image, profileDetails } = this.state;\n\n        const initialValues = omit(profileDetails, '@context', '@type', 'identifier', 'image');\n\n        return (\n            <Form\n                initialValues={ initialValues }\n                onSubmit={ this.handleSubmit }>\n                { ({ handleSubmit, invalid, dirty, form }) => (\n                    <form className={ styles.form } autoComplete=\"off\" onSubmit={ handleSubmit }>\n                        <div className={ styles.inputsContainer }>\n                            <div className={ styles.leftContent }>\n                                <div className={ classNames(styles.field, styles.name) }>\n                                    <label className={ styles.label }>Name</label>\n                                    <Field name=\"name\" validate={ notEmpty }>\n                                        { ({ input }) => <TextInput { ...input } placeholder={ PLACEHOLDER.name } /> }\n                                    </Field>\n                                </div>\n                                <div className={ classNames(styles.field, styles.nationality) }>\n                                    <label className={ styles.label }>Nationality</label>\n                                    <Field name=\"nationality\">\n                                        { ({ input }) => (\n                                            <AutocompleteSelect\n                                                value={ input.value }\n                                                options={ nationalities }\n                                                onChange={ input.onChange }\n                                                placeholder={ PLACEHOLDER.nationality } />\n                                        ) }\n                                    </Field>\n                                </div>\n                                <div className={ styles.field }>\n                                    <label className={ styles.label }>Gender</label>\n                                    <div className={ styles.genderWrapper }>\n                                        <Field name=\"gender\" type=\"radio\" value=\"Male\">\n                                            { ({ input }) => <Radio { ...input } label=\"Male\" /> }\n                                        </Field>\n                                        <Field name=\"gender\" type=\"radio\" value=\"Female\">\n                                            { ({ input }) => <Radio { ...input } label=\"Female\" /> }\n                                        </Field>\n                                        <Field name=\"gender\" type=\"radio\" value=\"Other\">\n                                            { ({ input }) => <Radio { ...input } label=\"Other\" /> }\n                                        </Field>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className={ styles.rightContent }>\n                                <div className={ styles.field }>\n                                    <label className={ styles.label }>Photo</label>\n                                    <div className={ styles.avatarPickerWrapper }>\n                                        <IpfsAvatarPicker\n                                            image={ profileDetails.image }\n                                            name={ profileDetails.name }\n                                            icon={ <UserIcon /> }\n                                            label=\"Change photo\"\n                                            labelAlignment=\"right\"\n                                            onChange={ this.handleAvatarInputChange } />\n                                    </div>\n                                </div>\n                                <div className={ classNames(styles.field, styles.location) }>\n                                    <label className={ styles.label }>Location</label>\n                                    <Field name=\"address\">\n                                        { ({ input }) => (\n                                            <LocationInput\n                                                { ...input }\n                                                onLocationInferred={ form.change }\n                                                placeholder={ PLACEHOLDER.location } />\n                                        ) }\n                                    </Field>\n                                </div>\n                            </div>\n                        </div>\n                        <div className={ styles.buttonContainer }>\n                            <ButtonPromiseState promise={ promise } onSettle={ this.handleSettle }>\n                                { ({ status }) => (\n                                    <Button disabled={ invalid || !(dirty || !!image) } feedback={ status }>Save changes</Button>\n                                ) }\n                            </ButtonPromiseState>\n                        </div>\n                    </form>\n                ) }\n            </Form>\n        );\n    }\n\n    async updateIdentity(data) {\n        const { saveProfile } = this.props;\n\n        const properties = {\n            name: undefined,\n            nationality: undefined,\n            gender: undefined,\n            address: undefined,\n            ...data,\n        };\n\n        if (this.state.image) {\n            properties.image = {\n                type: this.state.image.type,\n                data: await readAsArrayBuffer(this.state.image),\n            };\n        }\n\n        return saveProfile(properties);\n    }\n\n    // We are controlling this input manually to avoid installing third-party libs.\n    // Check this issue here: https://github.com/final-form/react-final-form/issues/92\n    handleAvatarInputChange = (imageFile) => {\n        this.setState({ image: imageFile });\n    };\n\n    handleSubmit = (data) => {\n        this.setState({ promise: this.updateIdentity(data) });\n    };\n\n    handleSettle = ({ status }) => {\n        switch (status) {\n        case 'fulfilled':\n            this.props.onRequestClose();\n            break;\n        case 'rejected':\n            this.setState({ promise: undefined });\n            break;\n        default:\n            break;\n        }\n    };\n}\n\nProfileForm.propTypes = {\n    onRequestClose: PropTypes.func.isRequired,\n    profileDetails: PropTypes.object.isRequired,\n    saveProfile: PropTypes.func.isRequired,\n};\n\nexport default ProfileForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport memoizeOne from 'memoize-one';\nimport { StandardModal } from '@nomios/web-uikit';\nimport ProfileForm from './profile-form';\nimport styles from './EditProfile.css';\n\nconst EditProfile = (props) => {\n    const { details, save } = props;\n\n    return (\n        <StandardModal { ...props } className={ styles.modal } contentClassName={ styles.modalContent }>\n            <h2 className={ styles.heading }>\n                Edit Profile\n            </h2>\n            <ProfileForm onRequestClose={ props.onRequestClose } profileDetails={ details } saveProfile={ save } />\n        </StandardModal>\n    );\n};\n\nEditProfile.propTypes = {\n    id: PropTypes.string.isRequired,\n    onRequestClose: PropTypes.func.isRequired,\n    save: PropTypes.func.isRequired,\n    details: PropTypes.object.isRequired,\n};\n\nexport default connectIdmWallet((idmWallet) => {\n    const getSetProperties = memoizeOne((id) => (properties) => idmWallet.identities.get(id).profile.setProperties(properties));\n\n    return ({ id }) => ({\n        details: idmWallet.identities.get(id).profile.getDetails(),\n        save: getSetProperties(id),\n    });\n})(EditProfile);\n","/* eslint-disable react/sort-comp */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport { TrashIcon, CopyIcon, EditIcon, SplitButton, withModalGlobal } from '@nomios/web-uikit';\nimport { IpfsAvatar } from '../../shared/components/ipfs';\nimport EditProfile from '../../modals/edit-profile';\nimport BackupIdentity from '../../modals/backup-identity';\nimport styles from './IdentityDetails.css';\n\nconst IdentityAttribute = (props) => {\n    const { title, value } = props;\n\n    return (\n        <div className={ styles.attribute }>\n            <div className={ styles.title }>{ title.toUpperCase() }</div>\n            <div className={ styles.value }>{ value }</div>\n        </div>\n    );\n};\n\nIdentityAttribute.propTypes = {\n    title: PropTypes.string,\n    value: PropTypes.string,\n};\n\nclass IdentityDetails extends Component {\n    actions = undefined;\n\n    render() {\n        const { did, profileDetails, isBackupComplete } = this.props;\n        const { name, image, dateOfBirth, nationality, address, gender } = profileDetails;\n        const { mainActionId, actions } = this.getActions(isBackupComplete);\n\n        return (\n            <div className={ styles.detailsWrapper }>\n                <IpfsAvatar name={ name } image={ image } className={ styles.avatar } />\n                <h1 className={ styles.name }>{ name }</h1>\n                <div className={ styles.did }>{ did }</div>\n                <div className={ styles.lowerBar }>\n                    <div className={ styles.attributes }>\n                        { dateOfBirth &&\n                            <IdentityAttribute title=\"Date of birth\" value={ dateOfBirth } /> }\n                        { gender &&\n                            <IdentityAttribute title=\"Gender\" value={ gender } /> }\n                        { nationality &&\n                            <IdentityAttribute title=\"Nationality\" value={ nationality } /> }\n                        { address &&\n                            <IdentityAttribute title=\"Location\" value={ address } /> }\n                    </div>\n                    <SplitButton\n                        variant=\"negative\"\n                        actions={ actions }\n                        mainActionId={ mainActionId }\n                        onActionClick={ this.handleActionClick } />\n                </div>\n            </div>\n        );\n    }\n\n    getActions = memoizeOne((isBackupComplete) => {\n        const mainActionId = isBackupComplete ? 'edit' : 'backup';\n        const defaultActions = [\n            { id: 'edit', icon: <EditIcon />, text: 'Edit' },\n            { id: 'delete', icon: <TrashIcon />, text: 'Delete' },\n        ];\n        const actions = isBackupComplete ?\n            defaultActions :\n            [...defaultActions, { id: 'backup', icon: <CopyIcon />, text: 'Backup' }];\n\n        return {\n            mainActionId,\n            actions,\n        };\n    });\n\n    handleActionClick = (actionId) => {\n        const { id, globalModal } = this.props;\n\n        switch (actionId) {\n        case 'backup':\n            globalModal.openModal(<BackupIdentity id={ id } />);\n            break;\n        case 'edit':\n            globalModal.openModal(<EditProfile id={ id } />);\n            break;\n        case 'delete':\n            alert('Delete not implemented yet');\n            break;\n        default:\n            break;\n        }\n    };\n}\n\nIdentityDetails.propTypes = {\n    id: PropTypes.string.isRequired,\n    did: PropTypes.string.isRequired,\n    globalModal: PropTypes.object.isRequired,\n    profileDetails: PropTypes.object.isRequired,\n    isBackupComplete: PropTypes.bool.isRequired,\n};\n\nconst WrappedIdentityDetails = withModalGlobal(IdentityDetails);\n\nexport default connectIdmWallet((idmWallet) => (ownProps) => ({\n    did: idmWallet.identities.get(ownProps.id).getDid(),\n    profileDetails: idmWallet.identities.get(ownProps.id).profile.getDetails(),\n    isBackupComplete: idmWallet.identities.get(ownProps.id).backup.isComplete(),\n}))(WrappedIdentityDetails);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { BoxedStar } from '@nomios/web-uikit';\nimport styles from './GenericItem.css';\n\nconst GenericItem = ({ id, content, icon, status, variant, onRemove }) => {\n    if (variant === 'small') {\n        if (icon) {\n            icon = React.cloneElement(icon, {\n                className: classNames(styles.optional, styles.icon, icon.props.className),\n            });\n        }\n\n        return (\n            <div className={ styles.smallItem }>\n                <div className={ styles.left }>\n                    { icon }\n                    <span className={ styles.name }>\n                        { content }\n                    </span>\n                </div>\n                { status }\n            </div>\n        );\n    }\n\n    return (\n        <div className={ styles.largeItem }>\n            <div className={ styles.name }>\n                { content }\n                { status }\n            </div>\n            <BoxedStar id={ id } onRemove={ onRemove }>{ icon }</BoxedStar>\n        </div>\n    );\n};\n\nGenericItem.propTypes = {\n    id: PropTypes.string,\n    content: PropTypes.node.isRequired,\n    icon: PropTypes.node,\n    status: PropTypes.node,\n    variant: PropTypes.oneOf(['small', 'large']),\n    onRemove: PropTypes.func,\n};\n\nGenericItem.defaultProps = {\n    variant: 'small',\n};\n\nexport default GenericItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './GenericList.css';\n\nconst GenericList = (props) => {\n    const { children } = props;\n\n    if (React.Children.count(children) === 1) {\n        return (\n            <div className={ styles.listWrapper }>\n                { React.cloneElement(children[0], { variant: 'large' }) }\n            </div>\n        );\n    }\n\n    return (\n        <div className={ styles.listWrapper }>\n            { children.map((item, index) => {\n                if (!index) {\n                    return React.cloneElement(item, { key: index });\n                }\n\n                return (\n                    <Fragment key={ index }>\n                        { item }\n                    </Fragment>\n                );\n            })}\n        </div>\n    );\n};\n\nGenericList.propTypes = {\n    children: PropTypes.node.isRequired,\n};\n\nexport default GenericList;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport { Svg, ConfirmModal, withModalGlobal } from '@nomios/web-uikit';\nimport GenericItem from './shared/GenericItem';\nimport GenericList from './shared/GenericList';\nimport styles from './Apps.css';\n\nconst globeSvg = import(/* webpackChunkName: \"svg-illustrations-sprite\" */ '../../../shared/media/illustrations/globe.svg');\n\nclass AppsBox extends Component {\n    removeRequestId = undefined;\n\n    render() {\n        const { apps } = this.props;\n\n        if (!apps || !apps.length) {\n            return this.renderDescriptionPanel();\n        }\n\n        return <GenericList>{ apps.map(this.renderApp) }</GenericList>;\n    }\n\n    renderDescriptionPanel() {\n        return (\n            <div className={ styles.appsWrapper }>\n                <h3 className={ styles.noApps }>\n                    Start using Nomios with your Apps.\n                </h3>\n                <Svg svg={ globeSvg } className={ styles.globeSvg } />\n            </div>\n        );\n    }\n\n    renderApp = (app, index) => {\n        const icon = app.iconUrl ? <img alt={ app.name } src={ app.iconUrl } /> : null;\n\n        return (\n            <GenericItem\n                variant=\"large\"\n                key={ index }\n                id={ app.id }\n                icon={ icon }\n                content={ app.name }\n                onRemove={ this.handleAppRequestRemove } />\n        );\n    };\n\n    handleAppRequestRemove = (event, id) => {\n        this.removeRequestId = id;\n\n        this.props.globalModal.openModal(\n            <ConfirmModal\n                title=\"Revoke app for this identity?\"\n                description=\"You're about to revoke this app for this identity but you'll be able to allow it again.\"\n                cancelText=\"No, cancel.\"\n                confirmText=\"Yes, proceed.\"\n                onConfirm={ this.handleAppRequestRemoveConfirm }\n                onCancel={ this.handleAppRequestRemoveCancel }\n                onRequestClose={ this.handleAppRequestRemoveCancel } />\n        );\n    };\n\n    handleAppRequestRemoveConfirm = () => {\n        const { globalModal, revokeApp } = this.props;\n\n        globalModal.closeModal();\n\n        revokeApp(this.removeRequestId)\n        .catch((error) => {\n            console.warn(`Something went wrong revoking app: \"${this.removeRequestId}\".`, error);\n        });\n\n        this.removeRequestId = undefined;\n    };\n\n    handleAppRequestRemoveCancel = () => {\n        this.props.globalModal.closeModal();\n        this.removeRequestId = undefined;\n    };\n}\n\nAppsBox.propTypes = {\n    apps: PropTypes.array,\n    revokeApp: PropTypes.func.isRequired,\n    globalModal: PropTypes.object.isRequired,\n};\n\nconst WrappedAppsBox = withModalGlobal(AppsBox);\n\nexport default connectIdmWallet((idmWallet) => {\n    const getApps = memoizeOne((apps) => apps.slice(0, 2));\n\n    return (ownProps) => ({\n        apps: getApps(idmWallet.identities.get(ownProps.id).apps.list()),\n        revokeApp: (id) => idmWallet.identities.get(ownProps.id).apps.revoke(id),\n    });\n})(WrappedAppsBox);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './StatusIndicator.css';\n\nconst StatusIndicator = (props) => {\n    const { text, status, dotSide } = props;\n\n    const partialClassName = classNames(styles[status], styles[dotSide]);\n\n    return (\n        <div className={ styles.statusIndicator }>\n            { dotSide === 'left' &&\n                <div className={ classNames(styles.statusDot, partialClassName) } />}\n            <span className={ classNames(styles.statusText, partialClassName) }>\n                { text }\n            </span>\n            { dotSide === 'right' &&\n                <div className={ classNames(styles.statusDot, partialClassName) } />}\n        </div>\n    );\n};\n\nStatusIndicator.propTypes = {\n    text: PropTypes.string.isRequired,\n    status: PropTypes.string.isRequired,\n    dotSide: PropTypes.oneOf(['left', 'right']),\n};\n\nStatusIndicator.defaultProps = {\n    dotSide: 'right',\n};\n\nexport default StatusIndicator;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport devices from '../../../shared/data/devices';\nimport StatusIndicator from './shared/StatusIndicator';\nimport GenericItem from './shared/GenericItem';\nimport GenericList from './shared/GenericList';\n\nfunction deviceDataFromId(id) {\n    return devices.filter((device) => device.id === id)[0];\n}\n\nfunction statusFromDeviceStatus(device) {\n    if (device.keyMaterial.privateKeyPem) {\n        return {\n            text: 'Current',\n            class: 'current',\n        };\n    }\n\n    if (device.revokedAt) {\n        return {\n            text: 'Revoked',\n            class: 'revoked',\n        };\n    }\n\n    return {\n        text: 'Other',\n        class: 'offline',\n    };\n}\n\nconst DeviceItem = (props) => {\n    const { device, ...rest } = props;\n\n    const deviceIcon = deviceDataFromId(device.type).icon;\n    const deviceStatus = statusFromDeviceStatus(device);\n\n    const status = <StatusIndicator text={ deviceStatus.text } status={ deviceStatus.class } dotSide=\"right\" />;\n\n    return (\n        <GenericItem\n            icon={ deviceIcon }\n            content={ device.name }\n            status={ status }\n            { ...rest } />\n    );\n};\n\nDeviceItem.propTypes = {\n    device: PropTypes.object.isRequired,\n};\n\nconst DevicesBox = (props) => {\n    const { devices } = props;\n\n    return (\n        <GenericList>\n            { devices.map((device, index) =>\n                <DeviceItem device={ device } key={ index } />\n            )}\n        </GenericList>\n    );\n};\n\nDevicesBox.propTypes = {\n    id: PropTypes.string.isRequired,\n    devices: PropTypes.array.isRequired,\n};\n\nexport default connectIdmWallet((idmWallet) => (ownProps) => ({\n    devices: idmWallet.identities.get(ownProps.id).devices.list(),\n}))(DevicesBox);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { FacebookIcon, TwitterIcon, LinkedinIcon, GithubIcon, TextButton } from '@nomios/web-uikit';\nimport StatusIndicator from './shared/StatusIndicator';\nimport GenericList from './shared/GenericList';\nimport styles from './SocialProofs.css';\n\nclass SocialProofItem extends Component {\n    render() {\n        const { network, account } = this.props;\n\n        const socialIcon = this.inferSocialIcon(network);\n\n        if (!account) {\n            return (\n                <TextButton\n                    icon={ socialIcon }\n                    className={ classNames(styles.proofLine, styles.noProof) }\n                    iconPosition=\"left\"\n                    onClick={ this.handleButtonClick }>\n                    <span className={ styles.text }>Prove my { network }<span className={ styles.optional }> account</span></span>\n                </TextButton>\n            );\n        }\n\n        return (\n            <div className={ classNames(styles.proofLine, styles.hasProof) }>\n                <div className={ styles.left }>\n                    { socialIcon }\n                    <div className={ styles.text }>{ account.username }</div>\n                </div>\n                <StatusIndicator text={ this.textFromAccountStatus(account.status) } status={ account.status } />\n            </div>\n        );\n    }\n\n    textFromAccountStatus(status) {\n        switch (status) {\n        case 'invalid':\n            return 'Invalid';\n        case 'pending':\n            return 'Pending';\n        case 'approved':\n            return 'Approved';\n        default:\n            return 'Invalid';\n        }\n    }\n\n    inferSocialIcon(network) {\n        switch (network) {\n        case 'Facebook':\n            return <FacebookIcon className={ styles.icon } />;\n        case 'Github':\n            return <GithubIcon className={ styles.icon } />;\n        case 'Linkedin':\n            return <LinkedinIcon className={ styles.icon } />;\n        case 'Twitter':\n            return <TwitterIcon className={ styles.icon } />;\n        default:\n            return null;\n        }\n    }\n\n    handleButtonClick = () => {\n        const { onClick } = this.props;\n\n        alert('Social network proof');\n        onClick && onClick();\n    };\n}\n\nSocialProofItem.propTypes = {\n    network: PropTypes.string.isRequired,\n    account: PropTypes.shape({\n        username: PropTypes.string.isRequired,\n        status: PropTypes.oneOf(['pending', 'invalid', 'approved']).isRequired,\n    }),\n    onClick: PropTypes.func,\n};\n\nconst SocialProofsBox = (props) => {\n    const { proofs } = props;\n\n    const listItems = [\n        <SocialProofItem network=\"Facebook\" account={ proofs.facebook } key={ 0 } />,\n        <SocialProofItem network=\"Twitter\" account={ proofs.twitter } key={ 1 } />,\n        <SocialProofItem network=\"Linkedin\" account={ proofs.linkedin } key={ 2 } />,\n        <SocialProofItem network=\"Github\" account={ proofs.github } key={ 3 } />,\n    ];\n\n    return (\n        <GenericList>\n            { listItems.map((device) => device) }\n        </GenericList>\n    );\n};\n\nSocialProofsBox.propTypes = {\n    proofs: PropTypes.shape({\n        twitter: PropTypes.shape({\n            username: PropTypes.string.isRequired,\n            status: PropTypes.string.isRequired,\n        }),\n        github: PropTypes.shape({\n            username: PropTypes.string.isRequired,\n            status: PropTypes.string.isRequired,\n        }),\n        facebook: PropTypes.shape({\n            username: PropTypes.string.isRequired,\n            status: PropTypes.string.isRequired,\n        }),\n        linkedin: PropTypes.shape({\n            username: PropTypes.string.isRequired,\n            status: PropTypes.string.isRequired,\n        }),\n    }),\n};\n\n// For testing purposes only. In final version, have an empty object as a default\nSocialProofsBox.defaultProps = {\n    proofs: {},\n};\n\nexport default SocialProofsBox;\n","import { ArrowRightIcon, TextButton } from '@nomios/web-uikit';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport AppsBox from './activity-boxes/Apps';\nimport DevicesBox from './activity-boxes/Devices';\nimport SocialProofsBox from './activity-boxes/SocialProofs';\nimport styles from './IdentityActivity.css';\n\nclass ActivityBox extends Component {\n    render() {\n        const { title, onClick, children } = this.props;\n\n        return (\n            <div className={ styles.activity }>\n                <div className={ styles.headerWrapper }>\n                    <TextButton\n                        className={ styles.header }\n                        icon={ <ArrowRightIcon className={ styles.arrow } /> }\n                        iconPosition=\"left\"\n                        onClick={ onClick }>\n                        { title }\n                    </TextButton>\n                </div>\n                <div className={ styles.activityBlock }>\n                    { children }\n                </div>\n            </div>\n        );\n    }\n}\n\nActivityBox.propTypes = {\n    title: PropTypes.string.isRequired,\n    children: PropTypes.node.isRequired,\n    onClick: PropTypes.func,\n};\n\nclass IdentityActivity extends Component {\n    render() {\n        const { id } = this.props;\n\n        return (\n            <div className={ styles.activitiesWrapper }>\n                <ActivityBox title=\"My Devices\" onClick={ this.handleMyDevices }>\n                    <DevicesBox id={ id } />\n                </ActivityBox>\n                <ActivityBox title=\"My Social Proofs\" onClick={ this.handleMySocialProofs }>\n                    <SocialProofsBox id={ id } />\n                </ActivityBox>\n                <ActivityBox title=\"My Apps\" onClick={ this.handleMyApps }>\n                    <AppsBox id={ id } />\n                </ActivityBox>\n            </div>\n        );\n    }\n\n    handleMyDevices = () => {\n        alert('See my devices');\n    };\n\n    handleMySocialProofs = () => {\n        alert('See my social proofs');\n    };\n\n    handleMyApps = () => {\n        alert('See my apps');\n    };\n}\n\nIdentityActivity.propTypes = {\n    id: PropTypes.string.isRequired,\n};\n\nexport default IdentityActivity;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport PageLayout from '../../shared/components/page-layout/PageLayout';\nimport Revoked from './revoked';\nimport IdentityDetails from './IdentityDetails';\nimport IdentityActivity from './IdentityActivity';\nimport styles from './Identity.css';\n\nclass Identity extends Component {\n    render() {\n        const { id } = this.props.match.params;\n        const { isRevoked } = this.props;\n\n        if (isRevoked) {\n            return <Revoked id={ id } />;\n        }\n\n        return (\n            <div className={ styles.split }>\n                <div className={ styles.background } />\n                <PageLayout>\n                    <div className={ styles.top }>\n                        <IdentityDetails id={ id } />\n                    </div>\n                    <div className={ styles.bottom }>\n                        <IdentityActivity id={ id } />\n                    </div>\n                </PageLayout>\n            </div>\n        );\n    }\n}\n\nIdentity.propTypes = {\n    isRevoked: PropTypes.bool.isRequired,\n    match: PropTypes.object.isRequired,\n};\n\nexport default connectIdmWallet((idmWallet) => (ownProps) => ({\n    isRevoked: idmWallet.identities.get(ownProps.match.params.id).isRevoked(),\n}))(Identity);\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connectIdmWallet } from 'react-idm-wallet';\nimport { Transition } from 'react-transition-group';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\nimport { withModalGlobal } from '@nomios/web-uikit';\nimport Sidebar from './sidebar';\nimport ErrorBoundary from './error-boundary';\nimport WalletEnclave from './wallet-enclave';\nimport SetupLocker from '../modals/setup-locker';\nimport NewIdentityFlow from '../modals/new-identity-flow';\nimport Home from '../pages/home';\nimport Identity from '../pages/identity';\nimport { Page404 } from '../pages/errors';\nimport styles from './App.css';\n\nclass App extends Component {\n    state = {\n        setupLockerOpen: false,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state.setupLockerOpen = props.pristine;\n    }\n\n    componentDidMount() {\n        const { location, history } = this.props;\n\n        switch (queryString.parse(location.search).action) {\n        case 'create-identity':\n            this.props.globalModal.openModal(<NewIdentityFlow />);\n            break;\n        default:\n            break;\n        }\n\n        history.replace(location.pathname);\n    }\n\n    render() {\n        const { pristine } = this.props;\n        const { setupLockerOpen } = this.state;\n\n        return (\n            <Fragment>\n                <Transition in={ setupLockerOpen } timeout={ 2000 } mountOnEnter unmountOnExit>\n                    <SetupLocker open={ setupLockerOpen } onComplete={ this.handleSetupLockerComplete } />\n                </Transition>\n\n                <WalletEnclave>\n                    <div className={ styles.app }>\n                        <Sidebar className={ styles.sidebar } />\n\n                        <main className={ styles.page }>\n                            { !pristine && (\n                                <ErrorBoundary>\n                                    <Switch>\n                                        <Route path=\"/\" exact component={ Home } />\n                                        <Route path=\"/identity/:id\" component={ Identity } />\n                                        <Route path=\"/*\" component={ Page404 } />\n                                    </Switch>\n                                </ErrorBoundary>\n                            ) }\n                        </main>\n                    </div>\n                </WalletEnclave>\n            </Fragment>\n        );\n    }\n\n    handleSetupLockerComplete = () => {\n        this.setState({ setupLockerOpen: false });\n    };\n}\n\nApp.propTypes = {\n    globalModal: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    pristine: PropTypes.bool,\n};\n\nconst WrappedApp = withRouter(withModalGlobal(App));\n\nexport default connectIdmWallet((idmWallet) => () => ({\n    pristine: idmWallet.locker.isPristine(),\n}))(WrappedApp);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport memoizeOne from 'memoize-one';\nimport { TypeOption, getInitials } from '@nomios/web-uikit';\nimport styles from './AppInfo.css';\n\nconst renderIcon = memoizeOne((name, iconUrl) => {\n    if (!iconUrl) {\n        return <span>{ getInitials(name) }</span>;\n    }\n\n    return <img alt={ name } src={ iconUrl } className={ styles.icon } />;\n});\n\nconst AppInfo = ({ label, iconUrl }) => (\n    <TypeOption label={ label } selectable={ false } className={ styles.typeOption }>\n        { renderIcon(label, iconUrl) }\n    </TypeOption>\n);\n\nAppInfo.propTypes = {\n    label: PropTypes.string.isRequired,\n    iconUrl: PropTypes.string,\n};\n\nexport default AppInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Logo, Button } from '@nomios/web-uikit';\nimport { Link } from 'react-router-dom';\nimport AppInfo from '../../../shared/components/app-info';\nimport backgroundPatternUrl from '../../../shared/media/backgrounds/background-pattern-1440p.png';\nimport styles from './Pristine.css';\n\nconst Pristine = ({ app }) => (\n    <div className={ styles.container }>\n        <div className={ styles.background } style={ { backgroundImage: `url(${backgroundPatternUrl})` } } />\n        <div className={ styles.infoContainer }>\n            <div className={ styles.header }>\n                <Logo className={ styles.logo } variant=\"symbol\" />\n            </div>\n            <div className={ styles.appInfoContainer }>\n                <AppInfo label={ app.name } iconUrl={ app.iconUrl } />\n            </div>\n            <h2 className={ styles.title }>Start using Nomios to authenticate.</h2>\n            <p className={ styles.text }>\n                It looks like that you&apos;ve never used Nomios before, you must setup Nomios and create your first identity.\n            </p>\n            <Link\n                to=\"/\"\n                target=\"_blank\"\n                className={ styles.buttonContainer }\n                rel=\"noopener\">\n                <Button variant=\"negative\">Start using Nomios</Button>\n            </Link>\n        </div>\n    </div>\n);\n\nPristine.propTypes = {\n    app: PropTypes.object.isRequired,\n};\n\nexport default Pristine;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppInfo from '../../../shared/components/app-info';\nimport { TypeOption, UserIcon, ArrowRightIcon } from '@nomios/web-uikit';\nimport styles from './RequestInfoIllustration.css';\n\nconst RequestInfoIllustration = (props) => (\n    <div className={ styles.container }>\n        <TypeOption label=\"Your info\" selectable={ false } className={ styles.typeOption }>\n            <UserIcon />\n        </TypeOption>\n        <ArrowRightIcon className={ styles.arrow } />\n        <AppInfo label={ props.name } iconUrl={ props.iconUrl } />\n    </div>\n);\n\nRequestInfoIllustration.propTypes = {\n    name: PropTypes.string.isRequired,\n    iconUrl: PropTypes.string,\n};\n\nexport default RequestInfoIllustration;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport memoizeOne from 'memoize-one';\nimport { Link } from 'react-router-dom';\nimport { Dropdown, Avatar, ChevronIcon, TypeOption, PlusIcon } from '@nomios/web-uikit';\nimport styles from './IdentitySelector.css';\n\nconst DEFAULT_SELECTED_INDEX = 0;\n\nclass IdentitySelector extends Component {\n    selectedValue = null;\n    createOptions = null;\n    findIdentity = null;\n\n    constructor(props) {\n        super(props);\n\n        this.selectedValue = props.initialIdentityId ? props.initialIdentityId : props.identities[DEFAULT_SELECTED_INDEX].id;\n        this.createOptions = memoizeOne(this.createOptionsArray);\n        this.findIdentity = memoizeOne(this.findIdentityObject);\n    }\n\n    render() {\n        const { identities } = this.props;\n        const { options, defaultOption } = this.createOptions(identities);\n\n        return (\n            <div className={ styles.dropdownContainer }>\n                <Dropdown\n                    options={ options }\n                    arrowPlacement=\"right\"\n                    menuClassName={ styles.menu }\n                    onChange={ this.handleChange }\n                    defaultValue={ defaultOption }\n                    controlClassName={ styles.control }\n                    menuListClassName={ styles.menuList }\n                    renderTrigger={ this.renderCustomTrigger } />\n            </div>\n        );\n    }\n\n    renderCustomTrigger = ({ menuIsOpen }) => {\n        const { image, name } = this.findIdentity(this.selectedValue).profileDetails;\n        const chevronClasses = classNames(styles.chevron, menuIsOpen && styles.up);\n\n        return (\n            <div className={ styles.trigger }>\n                <Avatar image={ image } name={ name } className={ styles.avatar } animateOnEnter={ false } />\n                <ChevronIcon className={ chevronClasses } />\n            </div>\n        );\n    };\n\n    renderOption = ({ isFocused, data }) => {\n        const { name, image } = this.findIdentity(data.value).profileDetails;\n        const optionClassNames = classNames(styles.option, isFocused && styles.focused);\n\n        return (\n            <div className={ optionClassNames } >\n                <Avatar image={ image } name={ name } className={ styles.avatar } animateOnEnter={ false } />\n                <span className={ styles.name }>{ name }</span>\n            </div>\n        );\n    };\n\n    renderCreateIdentityOption = ({ isFocused }) => {\n        const optionClassNames = classNames(styles.option, isFocused && styles.focused);\n\n        return (\n            <Link\n                to=\"/?action=create-identity\"\n                rel=\"noopener\"\n                target=\"_blank\"\n                className={ styles.link }\n                onClick={ this.handleCreateIdentityClick }>\n                <div className={ optionClassNames }>\n                    <TypeOption selectable={ false } className={ styles.typeOption }>\n                        <PlusIcon />\n                    </TypeOption>\n                    <span className={ styles.name }>Create Identity</span>\n                </div>\n            </Link>\n        );\n    };\n\n    findIdentityObject = (id) => this.props.identities.find((identity) => identity.id === id);\n\n    createOptionsArray = (identities) => {\n        let defaultOption;\n        const createIdentityOption = { value: 'createCta', render: this.renderCreateIdentityOption };\n\n        const options = identities.map((identity) => {\n            const option = { value: identity.id, render: this.renderOption };\n            const initialIdentityId = this.props.initialIdentityId ? this.props.initialIdentityId : identities[DEFAULT_SELECTED_INDEX].id;\n\n            if (identity.id === initialIdentityId) {\n                defaultOption = option;\n            }\n\n            return option;\n        });\n\n        options.unshift(createIdentityOption);\n\n        return {\n            defaultOption: !defaultOption ? options[DEFAULT_SELECTED_INDEX + 1] : defaultOption,\n            options,\n        };\n    };\n\n    handleChange = ({ value }) => {\n        if (value !== 'createCta') {\n            this.selectedValue = value;\n            this.props.onChange && this.props.onChange(value);\n        }\n    };\n\n    handleCreateIdentityClick = () => window.close();\n}\n\nIdentitySelector.propTypes = {\n    identities: PropTypes.array.isRequired,\n    initialIdentityId: PropTypes.string,\n    onChange: PropTypes.func,\n};\n\nexport default IdentitySelector;\n","import { UserIcon, CheckIcon } from '@nomios/web-uikit';\n\nconst credentialScopes = {\n    personalDetails: {\n        name: 'Personal Details',\n        icon: UserIcon,\n    },\n    socialProofs: {\n        name: 'Social Proofs',\n        icon: CheckIcon,\n    },\n};\n\nexport default credentialScopes;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Logo, TextButton, EditIcon, Button } from '@nomios/web-uikit';\nimport { Link } from 'react-router-dom';\nimport RequestInfoIllustration from './request-info-illustration';\nimport IdentitySelector from './identity-selector';\nimport FadeContainer from '../../shared/components/fade-container';\nimport credentialScopes from '../../shared/data/credential-scopes';\nimport backgroundPatternUrl from '../../shared/media/backgrounds/background-pattern-1440p.png';\nimport styles from './Authenticate.css';\n\nconst MOCKED_CREDENTIAL_SCOPES = ['personalDetails', 'socialProofs'];\nconst INITIAL_VALUE_INDEX = 0;\n\nclass Authenticate extends Component {\n    state = { activeFeedbackStepId: 0 };\n\n    selectedIdentityId = undefined;\n\n    constructor(props) {\n        super(props);\n\n        this.selectedIdentityId = props.identities.length > 0 && props.identities[INITIAL_VALUE_INDEX].id;\n    }\n\n    render() {\n        const { activeFeedbackStepId } = this.state;\n        const { identities, app } = this.props;\n        const noIdentities = !identities || identities.length === 0;\n\n        return (\n            <div className={ styles.container }>\n                <div className={ styles.background } style={ { backgroundImage: `url(${backgroundPatternUrl})` } } />\n                <div className={ styles.infoContainer }>\n                    <FadeContainer className={ styles.fadeContainer } activeIndex={ activeFeedbackStepId }>\n                        <>\n                            <div className={ styles.header }>\n                                <Logo className={ styles.logo } variant=\"symbol\" />\n                                { !noIdentities && (\n                                    <IdentitySelector\n                                        identities={ this.props.identities }\n                                        onChange={ this.handleIdentityChange }\n                                        initialIdentityId={ this.props.identities[INITIAL_VALUE_INDEX].id } />\n                                ) }\n                            </div>\n                            <div className={ styles.illustration }>\n                                <RequestInfoIllustration name={ app.name } iconUrl={ app.iconUrl } />\n                            </div>\n                            <h2 className={ styles.title }>This app wants to authenticate you.</h2>\n                            { noIdentities ? this.renderNoIdentitiesHelperText() : this.renderInfoDetailsContainer() }\n                            { noIdentities ? this.renderCreateIdentityButton() : this.renderAuthenticationButtons() }\n                        </>\n                        <div className={ styles.feedbackContainer }>\n                            <h2 className={ styles.title }>Please wait for the authentication…</h2>\n                        </div>\n                    </FadeContainer>\n                </div>\n            </div>\n        );\n    }\n\n    renderInfoDetailsContainer() {\n        return (\n            <div className={ styles.infoDetailsContainer }>\n                <div className={ styles.infoText }>\n                        Info you will provide:\n                    <ul className={ styles.list }>\n                        { MOCKED_CREDENTIAL_SCOPES.map((credentialScope, index) => (\n                            <li key={ `credentialScope${index}` }>\n                                { credentialScopes[credentialScope].name }\n                            </li>\n                        )) }\n                    </ul>\n                </div>\n                <TextButton\n                    className={ styles.textButton }\n                    iconPosition=\"left\"\n                    icon={ <EditIcon /> }\n                    onClick={ this.handleEditClick }>\n                        Edit\n                </TextButton>\n            </div>\n        );\n    }\n\n    renderNoIdentitiesHelperText() {\n        return (\n            <div className={ styles.helperTextContainer }>\n                <p>You need to create an identity within Nomios to complete the authentication.</p>\n            </div>\n        );\n    }\n\n    renderCreateIdentityButton() {\n        return (\n            <Link\n                to=\"/?action=create-identity\"\n                target=\"_blank\"\n                onClick={ this.handleCreateIdentityClick }\n                className={ classNames(styles.link, styles.singleButtonContainer) }\n                rel=\"noopener\">\n                <Button variant=\"negative\">Create identity</Button>\n            </Link>\n        );\n    }\n\n    renderAuthenticationButtons() {\n        return (\n            <div className={ styles.buttonsContainer }>\n                <Button variant=\"tertiary\" onClick={ this.handleDenyAuthentication }>No, deny</Button>\n                <Button variant=\"negative\" onClick={ this.handleAllowAuthentication }>Yes, allow</Button>\n            </div>\n        );\n    }\n\n    handleEditClick = () => alert('Edit info details not implemented yet');\n\n    handleDenyAuthentication = () => {\n        this.props.onDeny(this.selectedIdentityId);\n    };\n\n    handleAllowAuthentication = () => {\n        this.setState({ activeFeedbackStepId: 1 });\n        this.props.onAccept(this.selectedIdentityId);\n    };\n\n    handleRetryAuthentication = () => this.handleAllowAuthentication();\n\n    handleIdentityChange = (id) => {\n        this.selectedIdentityId = id;\n    };\n\n    handleCreateIdentityClick = () => window.close();\n}\n\nAuthenticate.propTypes = {\n    identities: PropTypes.array.isRequired,\n    app: PropTypes.object.isRequired,\n    onAccept: PropTypes.func.isRequired,\n    onDeny: PropTypes.func.isRequired,\n};\n\nexport default Authenticate;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { TypeOption, WriteIcon, ArrowRightIcon } from '@nomios/web-uikit';\nimport AppInfo from '../../../shared/components/app-info';\nimport styles from './AppInfoIllustration.css';\n\nconst AppInfoIllustration = ({ className, name, iconUrl }) => (\n    <div className={ classNames(styles.container, className) }>\n        <AppInfo label={ name } iconUrl={ iconUrl } />\n        <ArrowRightIcon className={ styles.arrow } />\n        <TypeOption label=\"Sign data\" selectable={ false } className={ styles.typeOption }>\n            <WriteIcon />\n        </TypeOption>\n    </div>\n);\n\nAppInfoIllustration.propTypes = {\n    name: PropTypes.string.isRequired,\n    className: PropTypes.string,\n    iconUrl: PropTypes.string,\n};\n\nexport default AppInfoIllustration;\n","import { tomorrow } from 'react-syntax-highlighter/dist/esm/styles/prism';\n\nconst customTomorrow = {\n    ...tomorrow,\n    'pre[class*=\"language-\"]': {\n        ...tomorrow['pre[class*=\"language-\"]'],\n        margin: 0,\n        width: '100%',\n        height: '100%',\n        background: 'none',\n    },\n};\n\nexport default customTomorrow;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { TextButton, EyeIcon } from '@nomios/web-uikit';\nimport customTheme from './customTheme';\nimport styles from './CodeBlock.css';\n\nclass CodeBlock extends Component {\n    render() {\n        const { className, language } = this.props;\n\n        return (\n            <div className={ classNames(styles.container, className) }>\n                <TextButton\n                    icon={ <EyeIcon className={ styles.icon } /> }\n                    className={ styles.textButton }\n                    onClick={ this.handlePreviewClick }>\n                    Preview\n                </TextButton>\n                <SyntaxHighlighter language={ language } style={ customTheme }>\n                    { this.stringifyData() }\n                </SyntaxHighlighter>\n            </div>\n        );\n    }\n\n    stringifyData() {\n        const { data } = this.props;\n\n        return ArrayBuffer.isView(data) ? '\"<Binary>\"' : JSON.stringify(data, null, 2);\n    }\n\n    handlePreviewClick = () => alert('Not implemented yet');\n}\n\nCodeBlock.propTypes = {\n    data: PropTypes.any.isRequired,\n    className: PropTypes.string,\n    language: PropTypes.string,\n};\n\nCodeBlock.defaultProps = {\n    language: 'json',\n};\n\nexport default CodeBlock;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Logo, Button } from '@nomios/web-uikit';\nimport FadeContainer from '../../shared/components/fade-container';\nimport AppInfoIllustration from './app-info-illustration';\nimport CodeBlock from './code-block';\nimport backgroundPatternUrl from '../../shared/media/backgrounds/background-pattern-1440p.png';\nimport styles from './Sign.css';\n\nclass Sign extends Component {\n    state = { activeFeedbackStepId: 0 };\n\n    render() {\n        const { activeFeedbackStepId } = this.state;\n        const { app, data, onDeny } = this.props;\n\n        return (\n            <div className={ styles.container }>\n                <div className={ styles.background } style={ { backgroundImage: `url(${backgroundPatternUrl})` } } />\n                <div className={ styles.infoContainer }>\n                    <FadeContainer className={ styles.fadeContainer } activeIndex={ activeFeedbackStepId }>\n                        <>\n                            <div className={ styles.header }>\n                                <Logo className={ styles.logo } variant=\"symbol\" />\n                            </div>\n                            <AppInfoIllustration\n                                name={ app.name }\n                                iconUrl={ app.iconUrl }\n                                className={ styles.illustration } />\n                            <h2 className={ styles.title }>This app needs your signature.</h2>\n                            <CodeBlock className={ styles.codeBlock } data={ data } />\n                            <div className={ styles.buttonsContainer }>\n                                <Button variant=\"tertiary\" onClick={ onDeny }>No, cancel</Button>\n                                <Button variant=\"negative\" onClick={ this.handleAccept }>Yes, sign data</Button>\n                            </div>\n                        </>\n                        <div className={ styles.feedbackContainer }>\n                            <h2 className={ styles.title }>Please wait for the signature validation…</h2>\n                        </div>\n                    </FadeContainer>\n                </div>\n            </div>\n        );\n    }\n\n    handleAccept = () => {\n        this.setState({ activeFeedbackStepId: 1 });\n        this.props.onAccept();\n    };\n}\n\nSign.propTypes = {\n    app: PropTypes.object.isRequired,\n    data: PropTypes.any.isRequired,\n    onAccept: PropTypes.func.isRequired,\n    onDeny: PropTypes.func.isRequired,\n};\n\nexport default Sign;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport pDefer from 'p-defer';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { Pristine as PristineScreen } from './screens';\nimport Authenticate from '../pages/authenticate';\nimport Sign from '../pages/sign';\nimport LockScreen from '../shared/components/lock-screen';\n\nclass AppMediator extends Component {\n    prompt = undefined;\n\n    state = {\n        locked: false,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.props.mediatorSide.setPrompts({\n            unlock: this.promptUnlock,\n            authenticate: this.promptAuthenticate,\n            sign: this.promptSign,\n        });\n    }\n\n    render() {\n        const { locked, pristine } = this.state;\n\n        if (pristine) {\n            return <PristineScreen app={ this.prompt.app } />;\n        }\n\n        return (\n            <Fragment>\n                <LockScreen locked={ locked } unlock={ this.promptUnlockFn } />\n\n                <Switch>\n                    <Route path=\"/prompt/authenticate\" exact>\n                        { ({ match }) => match ? (\n                            <Authenticate\n                                app={ this.prompt.app }\n                                identities={ this.prompt.identities }\n                                onAccept={ this.handlePromptAccept }\n                                onDeny={ this.handlePromptDeny } />\n                        ) : null }\n                    </Route>\n\n                    <Route path=\"/prompt/sign\" exact>\n                        { ({ match }) => match ? (\n                            <Sign\n                                app={ this.prompt.app }\n                                data={ this.prompt.data }\n                                onAccept={ this.handlePromptAccept }\n                                onDeny={ this.handlePromptDeny } />\n                        ) : null }\n                    </Route>\n                </Switch>\n            </Fragment>\n        );\n    }\n\n    promptUnlock = async ({ app, pristine, unlockFn }) => {\n        this.prompt = {\n            pristine,\n            unlockFn,\n            app,\n            response: pDefer(),\n        };\n\n        this.setState({ pristine, locked: !pristine });\n\n        return this.prompt.response.promise;\n    };\n\n    promptUnlockFn = async (...args) => {\n        await this.prompt.unlockFn(...args);\n\n        this.setState({ locked: false }, () => {\n            this.prompt.response.resolve({ ok: true });\n        });\n    };\n\n    promptAuthenticate = ({ app, identities }) => {\n        this.prompt = {\n            app,\n            identities,\n            response: pDefer(),\n        };\n\n        this.props.history.replace('/prompt/authenticate');\n\n        return this.prompt.response.promise;\n    };\n\n    promptSign = ({ app, identity, data }) => {\n        this.prompt = {\n            app,\n            identity,\n            data,\n            response: pDefer(),\n        };\n\n        this.props.history.replace('/prompt/sign');\n\n        return this.prompt.response.promise;\n    };\n\n    handlePromptAccept = (identityId) => {\n        this.prompt.response.resolve({ ok: true, identityId });\n    };\n\n    handlePromptDeny = () => {\n        this.prompt.response.resolve({ ok: false });\n    };\n}\n\nAppMediator.propTypes = {\n    mediatorSide: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n};\n\nexport default withRouter(AppMediator);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Lottie from 'lottie-react-web';\nimport animationData from './animation.json';\nimport styles from './LoadingScreen.css';\n\nconst animationOptions = {\n    animationData,\n    loop: true,\n    autoplay: true,\n};\n\nconst LoadingScreen = ({ className }) => (\n    <div className={ classNames(styles.loadingScreen, className) }>\n        <Lottie options={ animationOptions } />\n    </div>\n);\n\nLoadingScreen.propTypes = {\n    className: PropTypes.string,\n};\n\nexport default LoadingScreen;\n","import React, { Component, Fragment } from 'react';\nimport pTimeout from 'p-timeout';\nimport PropTypes from 'prop-types';\nimport { PromiseState } from 'react-promiseful';\nimport { CSSTransition } from 'react-transition-group';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport ErrorScreen from '../shared/components/error-screen';\nimport LoadingScreen from '../shared/components/loading-screen';\nimport styles from './Boot.css';\n\nconst CSS_TRANSITION_PROPS = {\n    timeout: 300,\n    appear: true,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    classNames: {\n        appear: styles.enter,\n        appearActive: styles.enterActive,\n        appearDone: styles.enterDone,\n        enter: styles.enter,\n        enterActive: styles.enterActive,\n        enterDone: styles.enterDone,\n        exit: styles.exit,\n        exitActive: styles.exitActive,\n        exitDone: styles.exitDone,\n    },\n};\n\nclass Boot extends Component {\n    state = {\n        promise: undefined,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state.promise = pTimeout(props.promise, props.timeout);\n    }\n\n    render() {\n        const { promise } = this.state;\n\n        return (\n            <PromiseState\n                promise={ promise }>\n                { ({ status, value }) => (\n                    <Fragment>\n                        <CSSTransition in={ status === 'pending' } { ...CSS_TRANSITION_PROPS }>\n                            <div className={ styles.boot }>\n                                { this.renderLoading() }\n                            </div>\n                        </CSSTransition>\n\n                        <CSSTransition in={ status === 'rejected' } { ...CSS_TRANSITION_PROPS }>\n                            <div className={ styles.boot }>\n                                { status === 'rejected' ? this.renderError(value) : null }\n                            </div>\n                        </CSSTransition>\n\n                        <CSSTransition in={ status === 'fulfilled' } { ...CSS_TRANSITION_PROPS }>\n                            <div className={ styles.boot }>\n                                { status === 'fulfilled' ? this.renderSuccess(value) : null }\n                            </div>\n                        </CSSTransition>\n                    </Fragment>\n                ) }\n            </PromiseState>\n        );\n    }\n\n    renderLoading() {\n        return <LoadingScreen />;\n    }\n\n    renderError(error) {\n        return (\n            <ErrorScreen\n                text=\"We're having a hard time booting the app.\"\n                error={ error }\n                onRetry={ this.handleRetry } />\n        );\n    }\n\n    renderSuccess(value) {\n        const Router = process.env.NODE_ENV === 'production' ? HashRouter : BrowserRouter;\n\n        return (\n            <Router>\n                { this.props.children(value) }\n            </Router>\n        );\n    }\n\n    handleRetry = () => {\n        window.location.reload();\n    };\n}\n\nBoot.propTypes = {\n    promise: PropTypes.shape({\n        then: PropTypes.func.isRequired,\n        catch: PropTypes.func.isRequired,\n    }).isRequired,\n    timeout: PropTypes.number,\n    preventThrottling: PropTypes.bool,\n    children: PropTypes.func.isRequired,\n};\n\nBoot.defaultProps = {\n    timeout: 30000,\n};\n\nexport default Boot;\n","import './index.css';\nimport React from 'react';\nimport { render } from 'react-dom';\nimport ReactModal from 'react-modal';\nimport { setAppElement, ModalGlobalProvider } from '@nomios/web-uikit';\nimport { IdmWalletProvider } from 'react-idm-wallet';\nimport { hasParent, createMediatorSide, createWalletSide } from 'idm-bridge-postmsg';\nimport { IpfsProvider } from './shared/components/ipfs';\nimport App from './app';\nimport AppMediator from './app-mediator';\nimport Boot from './boot';\n\nconst renderApp = (rootEl) => {\n    const createIdmWallet = async () => {\n        const createIdmWallet = await import(/* webpackChunkName: \"idm-wallet\" */ 'idm-wallet');\n        const idmWallet = await createIdmWallet.default();\n\n        createWalletSide(idmWallet);\n\n        if (process.env.REACT_APP_IDM_DEBUG === '1') {\n            window.__IDM_WALLET__ = idmWallet;\n        }\n\n        return idmWallet;\n    };\n\n    return render(\n        <Boot promise={ createIdmWallet() }>\n            { (idmWallet) => (\n                <IdmWalletProvider idmWallet={ idmWallet }>\n                    <IpfsProvider value={ idmWallet.ipfs }>\n                        <ModalGlobalProvider>\n                            <App />\n                        </ModalGlobalProvider>\n                    </IpfsProvider>\n                </IdmWalletProvider>\n            ) }\n        </Boot>,\n        rootEl,\n    );\n};\n\nconst renderAppMediator = (rootEl) => render(\n    <Boot promise={ createMediatorSide() }>\n        { (mediatorSide) => (\n            <AppMediator mediatorSide={ mediatorSide } />\n        ) }\n    </Boot>,\n    rootEl,\n);\n\nconst rootEl = document.getElementById('root');\n\nReactModal.setAppElement(rootEl);\nsetAppElement(rootEl);\n\nif (hasParent()) {\n    renderAppMediator(rootEl);\n} else {\n    renderApp(rootEl);\n}\n"],"sourceRoot":""}